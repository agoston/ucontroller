(window["webpackJsonp-ae-fe/cosmos-1"]=window["webpackJsonp-ae-fe/cosmos-1"]||[]).push([[14],{455:function(e,t){},456:function(e){e.exports=JSON.parse('{"_args":[["@alife/heaven-smart-banner-core@0.1.13","/cloud/source_code"]],"_from":"@alife/heaven-smart-banner-core@0.1.13","_id":"@alife/heaven-smart-banner-core@0.1.13","_inBundle":false,"_integrity":"sha1-pO3MBg8Jkz3I46JAc3+/Wo4vaXo=","_location":"/@alife/heaven-smart-banner-core","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@alife/heaven-smart-banner-core@0.1.13","name":"@alife/heaven-smart-banner-core","escapedName":"@alife%2fheaven-smart-banner-core","scope":"@alife","rawSpec":"0.1.13","saveSpec":null,"fetchSpec":"0.1.13"},"_requiredBy":["/@ali/poplayer-web-container"],"_resolved":"https://registry.npm.alibaba-inc.com/@alife/heaven-smart-banner-core/download/@alife/heaven-smart-banner-core-0.1.13.tgz","_spec":"0.1.13","_where":"/cloud/source_code","author":{"name":"老邬"},"componentConfig":{"name":"@alife/heaven-smart-banner-core","title":"","desc":""},"dependencies":{"@alife/zoro-cookie":"^2.0.10","prop-types":"^15.5.8"},"description":"","devDependencies":{"@alib/build-scripts":"^0.1.20","@types/classnames":"^2.2.10","@types/enzyme":"^3.10.5","@types/enzyme-adapter-react-16":"^1.0.6","@types/jest":"^25.1.4","@types/react":"^16.9.33","@types/react-dom":"^16.9.6","@typescript-eslint/eslint-plugin":"^2.26.0","@typescript-eslint/parser":"^2.26.0","build-plugin-component":"^0.2.15","build-plugin-fusion":"^0.1.2","build-plugin-moment-locales":"^0.1.0","enzyme":"^3.11.0","enzyme-adapter-react-16":"^1.15.2","eslint":"^6.8.0","eslint-plugin-react":"^7.19.0","identity-obj-proxy":"^3.0.0","jest":"^25.2.4","react":"^16.13.1","react-dom":"^16.13.1","ts-jest":"^25.3.0","typescript":"^3.8.3"},"heavenConfig":{"authors":"老邬","createdDate":"1588735826157","updatedDate":"1588735826157","version":"0.0.1","category":"基础组件","biz":"基础链路","framework":"React","platform":"PC","tags":"a,b,c"},"homepage":"https://unpkg.alibaba-inc.com/@alife/heaven-smart-banner-core@0.1.13/build/index.html","keywords":[],"license":"MIT","main":"lib/index.js","module":"es/index.js","name":"@alife/heaven-smart-banner-core","publishConfig":{"registry":"https://registry.npm.alibaba-inc.com"},"scripts":{"build":"build-scripts build","start":"build-scripts start","test":"build-scripts test"},"types":"es/index.d.ts","version":"0.1.13"}')},457:function(e,t){},458:function(e,t,n){"use strict";var r={},o=decodeURIComponent,i=encodeURIComponent;function a(e){return"string"==typeof e}function s(e){return a(e)&&""!==e}function c(e){if(!s(e))throw new TypeError("Cookie name must be a non-empty string")}function p(e){return e}r.get=function(e,t){c(e),t="function"==typeof t?{converter:t}:t||{};var n=function(e,t){var n={};if(a(e)&&e.length>0)for(var r,i,s,c=t?o:p,l=e.split(/;\s/g),d=0,u=l.length;d<u;d++){if((s=l[d].match(/([^=]+)=/i))instanceof Array)try{r=o(s[1]),i=c(l[d].substring(s[1].length+1))}catch(e){}else r=o(l[d]),i="";r&&(n[r]=i)}return n}(document.cookie,!t.raw);return(t.converter||p)(n[e])},r.set=function(e,t,n){c(e);var r=(n=n||{}).expires,o=n.domain,a=n.path;n.raw||(t=i(String(t)));var p=e+"="+t,l=r;return"number"==typeof l&&(l=new Date).setDate(l.getDate()+r),l instanceof Date&&(p+="; expires="+l.toUTCString()),s(o)&&(p+="; domain="+o),s(a)&&(p+="; path="+a),n.secure&&(p+="; secure"),document.cookie=p,p},r.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)};var l=r;t.default=l},459:function(e,t,n){"use strict";t.getFixedDomainUrl=function(){return r};var r="aliexpress.com";[{reg:/aliexpress.ru/,domain:"aliexpress.ru"},{reg:/tmall.ru/,domain:"tmall.ru"}].forEach((function(e){e.reg.test(window.location.host)&&(r=e.domain)}))},460:function(e,t){},461:function(e,t,n){(function(e){var t=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function o(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var n=i._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:i._decompress(e.length,32,(function(n){return o(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":i._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=i.compress(e),n=new Uint8Array(2*t.length),r=0,o=t.length;r<o;r++){var a=t.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(t){if(null==t)return i.decompress(t);for(var n=new Array(t.length/2),r=0,o=n.length;r<o;r++)n[r]=256*t[2*r]+t[2*r+1];var a=[];return n.forEach((function(t){a.push(e(t))})),i.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),i._decompress(e.length,32,(function(t){return o(n,e.charAt(t))})))},compress:function(t){return i._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,o,i,a={},s={},c="",p="",l="",d=2,u=3,f=2,m=[],h=0,v=0;for(i=0;i<e.length;i+=1)if(c=e.charAt(i),Object.prototype.hasOwnProperty.call(a,c)||(a[c]=u++,s[c]=!0),p=l+c,Object.prototype.hasOwnProperty.call(a,p))l=p;else{if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(r=0;r<f;r++)h<<=1,v==t-1?(v=0,m.push(n(h)),h=0):v++;for(o=l.charCodeAt(0),r=0;r<8;r++)h=h<<1|1&o,v==t-1?(v=0,m.push(n(h)),h=0):v++,o>>=1}else{for(o=1,r=0;r<f;r++)h=h<<1|o,v==t-1?(v=0,m.push(n(h)),h=0):v++,o=0;for(o=l.charCodeAt(0),r=0;r<16;r++)h=h<<1|1&o,v==t-1?(v=0,m.push(n(h)),h=0):v++,o>>=1}0==--d&&(d=Math.pow(2,f),f++),delete s[l]}else for(o=a[l],r=0;r<f;r++)h=h<<1|1&o,v==t-1?(v=0,m.push(n(h)),h=0):v++,o>>=1;0==--d&&(d=Math.pow(2,f),f++),a[p]=u++,l=String(c)}if(""!==l){if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(r=0;r<f;r++)h<<=1,v==t-1?(v=0,m.push(n(h)),h=0):v++;for(o=l.charCodeAt(0),r=0;r<8;r++)h=h<<1|1&o,v==t-1?(v=0,m.push(n(h)),h=0):v++,o>>=1}else{for(o=1,r=0;r<f;r++)h=h<<1|o,v==t-1?(v=0,m.push(n(h)),h=0):v++,o=0;for(o=l.charCodeAt(0),r=0;r<16;r++)h=h<<1|1&o,v==t-1?(v=0,m.push(n(h)),h=0):v++,o>>=1}0==--d&&(d=Math.pow(2,f),f++),delete s[l]}else for(o=a[l],r=0;r<f;r++)h=h<<1|1&o,v==t-1?(v=0,m.push(n(h)),h=0):v++,o>>=1;0==--d&&(d=Math.pow(2,f),f++)}for(o=2,r=0;r<f;r++)h=h<<1|1&o,v==t-1?(v=0,m.push(n(h)),h=0):v++,o>>=1;for(;;){if(h<<=1,v==t-1){m.push(n(h));break}v++}return m.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var o,i,a,s,c,p,l,d=[],u=4,f=4,m=3,h="",v=[],g={val:r(0),position:n,index:1};for(o=0;o<3;o+=1)d[o]=o;for(a=0,c=Math.pow(2,2),p=1;p!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*p,p<<=1;switch(a){case 0:for(a=0,c=Math.pow(2,8),p=1;p!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*p,p<<=1;l=e(a);break;case 1:for(a=0,c=Math.pow(2,16),p=1;p!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*p,p<<=1;l=e(a);break;case 2:return""}for(d[3]=l,i=l,v.push(l);;){if(g.index>t)return"";for(a=0,c=Math.pow(2,m),p=1;p!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*p,p<<=1;switch(l=a){case 0:for(a=0,c=Math.pow(2,8),p=1;p!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*p,p<<=1;d[f++]=e(a),l=f-1,u--;break;case 1:for(a=0,c=Math.pow(2,16),p=1;p!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*p,p<<=1;d[f++]=e(a),l=f-1,u--;break;case 2:return v.join("")}if(0==u&&(u=Math.pow(2,m),m++),d[l])h=d[l];else{if(l!==f)return null;h=i+i.charAt(0)}v.push(h),d[f++]=i+h.charAt(0),i=h,0==--u&&(u=Math.pow(2,m),m++)}}};return i}();"function"==typeof define&&define.amd?define((function(){return t})):null!=e&&(e.exports=t)}).call(this,n(90)(e))},462:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function r(e){return"number"!=typeof e||e>3e4||e<0?0:Math.round(e)}function o(e){return r(window.performance&&window.performance.timing?e-window.performance.timing.fetchStart:0)}var i={error:function(e,t){window.__bl&&window.__bl.error?window.__bl.error(e,t):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["error",e,t]))},api:{success:function(e,t,n,r){window.__bl&&window.__bl.api?window.__bl.api(e,!0,t,n,r):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["api",e,!0,t,n,r]))},error:function(e,t,n,r){window.__bl&&window.__bl.api?window.__bl.api(e,!1,t,n,r):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["api",e,!1,t,n,r]))}},report:function(e){try{if(!e)return;if(!("Promise"in window))return;if(!window.performance)return;Object.keys(e).forEach((function(t){var n=e[t];if("number"!=typeof n){if(!n||!n.then)throw new Error("performance package: first argument of function reportPerformance need to be a promise or thenable!");e[t]=n.then((function(e){return o(e)}))}else e[t]=r(n)}));var t={ctti:new Promise((function(e){i.interactiveTimerId=setTimeout((function(){e(o(Date.now()))}),0)})).catch((function(e){throw new Error(e)})),t1:(c=0,new Promise((function(e){if("function"==typeof window.performance.getEntriesByType){var t=performance.getEntriesByType("paint");if(t)for(var n=0,o=t.length;n<o;n++){var i=t[n];"first-paint"===i.name&&(c=i.startTime)}}else if(window.chrome&&window.chrome.loadTimes){var a=window.chrome.loadTimes();c=1e3*(a.firstPaintTime-a.startLoadTime)}else"number"==typeof window.performance.timing.msFirstPaint&&(c=window.performance.timing.msFirstPaint-window.performance.timing.navigationStart);e(r(c))})).catch((function(e){throw new Error(e)})))},n=Object.assign(t,e),a=[],s=[];Object.keys(n).forEach((function(e){a.push(e),s.push(n[e])})),Promise.all(s).then((function(e){var t={};e.forEach((function(e,n){t[a[n]]=e}));var n=["performance",t];window.__bl&&window.__bl.performance?window.__bl.performance(t):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(n))})).catch((function(e){throw console.error(e),new Error(e)}))}catch(e){throw new Error(e)}var c},gc:function(){clearTimeout(this.interactiveTimerId)}},a=i;t.default=a},478:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getAffCookieData",(function(){return v})),n.d(r,"parseUrl",(function(){return g})),n.d(r,"getParameterByName",(function(){return y})),n.d(r,"isRuDomain",(function(){return w})),n.d(r,"isFunction",(function(){return _})),n.d(r,"serializeParams",(function(){return b})),n.d(r,"addUrlParams",(function(){return x})),n.d(r,"createRedirectUrl",(function(){return E})),n.d(r,"createCallAppUrl",(function(){return C})),n.d(r,"createAppStoreUrl",(function(){return S})),n.d(r,"jsonParse",(function(){return I})),n.d(r,"getPageCode",(function(){return T})),n.d(r,"getPageSpm",(function(){return k})),n.d(r,"isDebug",(function(){return A})),n.d(r,"isSmbLog",(function(){return R})),n.d(r,"getDay",(function(){return O})),n.d(r,"getProductId",(function(){return P})),n.d(r,"getDomain",(function(){return U})),n.d(r,"getDefaultTargetUrl",(function(){return D})),n.d(r,"isAndroid",(function(){return N})),n.d(r,"removeSmbUrlKey",(function(){return j})),n.d(r,"SCHEME_MAP",(function(){return M})),n.d(r,"fixCallUrlParams",(function(){return L}));var o={};n.r(o),n.d(o,"sendPoint",(function(){return F}));var i=n(0),a=n.n(i),s=n(15),c=n.n(s),p=n(7),l=n.n(p),d=n(1),u=n.n(d),f=n(456),m=n(32),h=n.n(m);function v(){return{aeuCid:h.a.getAeucid(),browserId:h.a.getACS_RT(),lang:h.a.getLocale()||"",shipToCountry:h.a.getRegion()||"",currency:h.a.getCurrency()||"",accountId:h.a.getMemberSeq()||""}}function g(e){var t={},n=e.match(/\?[^#]*/);return n&&1!==n[0].length?(n[0].slice(1).split("&").forEach((function(e){n=e.split("="),t[n[0]]=decodeURIComponent(n[1]||"")})),t):t}function y(e,t){t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function w(){return/aliexpress\.ru/.test(window.location.host)}function _(e){return"function"===(typeof e).toLowerCase()}function b(e){return void 0===e&&(e={}),Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function x(e,t){return void 0===e&&(e=""),void 0===t&&(t={}),e.indexOf("?")>-1?e+"&"+b(t):e+"?"+b(t)}function E(e,t){return void 0===e&&(e=""),void 0===t&&(t={}),e?x(e,{fromPageCode:t.pageCode,m_page_id:t.pageId||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",isFromSmb:!0,abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""}):""}function C(e,t){if(void 0===e&&(e=""),void 0===t&&(t={}),!e)return"";var n=t.cookieInfo,r=void 0===n?{}:n,o=v(),i={};o.aeuCid&&(i.aff_trace_key=t.aeuCid||o.aeuCid||"",i.aff_platform=t.aff_platform||"msite",i.browser_id=t.browserId||o.browserId||"");var a=t.accountId||o.accountId||"";return a&&(i.accountId=a),x(e,l()({fromPageCode:t.pageCode,m_page_id:t.pageId||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""},i,r))}function S(e,t){if(void 0===e&&(e=""),void 0===t&&(t={}),!e)return"";var n=t.cookieInfo,r=void 0===n?{}:n;return x(e,l()({m_page_id:t.pageId,fromPageCode:t.pageCode||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||"",dd_url:t.dd_url||""},r))}function I(e){void 0===e&&(e="");var t="";try{t=JSON.parse(e)||{}}catch(e){t=""}return t}function T(){return(""+document.querySelector("body").getAttribute("data-spm")||"").trim()}var k=function(){var e="",t="";try{var n=document.querySelector('meta[name="data-spm"]');e=n?n.getAttribute("content"):"a2g0n",t=document.querySelector("body").getAttribute("data-spm")||"unknow"}catch(n){e="",t=""}var r=[e,t].join(".");return function(){return r}}(),A=/true/.test(y("isSmbDebug")),R=/true/.test(y("isSmbLog"));function O(e){void 0===e&&(e=0);var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setDate(t.getDate()+e),+t}function P(e){void 0===e&&(e="");return((e.split("?")[0]||"").match(/aliexpress\.(com|ru)\/(item|i)\/(.*)\.htm(l?)/)||[])[3]||""}function U(){return w()?"m.aliexpress.ru":"m.aliexpress.com"}function D(){return"//"+U()+"/download-landing.html"}function N(){var e=window.navigator.userAgent;return e.indexOf("Android")>-1||e.indexOf("Linux")>-1}function j(e){void 0===e&&(e={});var t={};for(var n in e)"cancleSmbFatigueCrtl,isSmbDebug,isSMBLog,isSmbAutoCall,needSmbRedirect,smbTargetUrl,smbCallAppScheme,isSmbShow,needSmbHouyi,smbThemes,isSmbActive,needSmbAutoCallRedirect".indexOf(n)>-1||(t[n]=e[n]);return t}var M={HOME:"aliexpress://home",DETAIL:"aliexpress://product/detail",STORE:"aliexpress://store/home",LOGIN:"aliexpress://member/signin",ACCOUNT:"aliexpress://account",SHOPCART:"aliexpress://cart",PROFILE:"aliexpress://profile",WISHLIST:"aliexpress://wishlist",WISHSTORELIST:"aliexpress://wishstorelist",SEARCHLIST:"aliexpress://search/list",CATEGORYLIST:"aliexpress://native/goto/category",GOTO:"aliexpress://goto"};function L(e){void 0===e&&(e="");var t=e.trim(),n=g(e),r=window.location.href,o=j(g((r=r.replace(/https:\/\/(.*?).aliexpress.com\/campaign/,"https://campaign.aliexpress.com").replace(/https:\/\/(.*?).aliexpress.com\/pre-campaign/,"https://pre-wormhole.aliexpress.com"))||"")||{});if(function(e){return/https:\/\/(campaign|pre-wormhole).aliexpress.com\//.test(e)}(r)&&o.wh_weex){var i={};!o.wx_navbar_hidden&&(i.wx_navbar_hidden=!0),!o.wx_navbar_transparent&&(i.wx_navbar_transparent=!0),!o.wx_statusbar_hidden&&(i.wx_statusbar_hidden=!0),r=x(r,i)}if(t.indexOf(M.DETAIL)>-1){var a=n.productId?n.productId:P(r),s=l()({},n,{productId:a});return["gps-id","pvid","scm","scm-url","scm_id"].forEach((function(e){o[e]&&(s[e]=o[e])})),t=x(M.DETAIL,s)}if(t.indexOf(M.STORE)>-1){if(N()){var c={url:r};t=x(M.GOTO,c)}else{var p=l()({},n,{sellerAdminSeq:n.sellerId||o.sellerId||"",shopId:n.shopId||o.sellerId||""});t=x(M.STORE,p)}return t}return t.indexOf(M.GOTO)>-1?n.url?t:t=x(t,l()({},n,{url:r})):t}function B(e){try{var t=l()({st_page_id:window.dmtrack_pageid||""},e.params),n=b(t);R&&console.log("埋点：","path:"+e.path+", event:"+e.event+", 参数：",t),window.goldlog.record(e.path,e.event,n,"GET")}catch(e){}}function F(e,t){void 0===e&&(e="click"),void 0===t&&(t={}),"exposure"===e?function(e){B({path:"/ae.pc_ctr.statweb_ae_ctr",event:"EXP",params:e})}(t):"click"===e&&function(e){B({path:"/ae.pc_click.statweb_ae_click",event:"CLK",params:e})}(t)}var G=f.version,J=window.location.host,z=function(){function e(){var e=this;this.execCallApp=function(t){void 0===t&&(t={}),e.init(t);var n=e.options;e.exposurePoint();setTimeout((function(){e.autoRedirectStart=+new Date,window.location.href=n.callAppUrl}),0);var r=N()?3500:3e3;e.redirectTimer=setTimeout((function(){e.autoRedirectEnd=+new Date;var t=l()({cost_t:e.autoRedirectEnd-e.autoRedirectStart,has_app:!1,redirectUrl:encodeURIComponent(n.redirectUrl),callAppUrl:encodeURIComponent(n.callAppUrl)},e.getCommonPointParams());n.sendPoint&&F("click",t),_(n.callAppCallback)&&n.callAppCallback(!1,t,n),n.needRedirect&&(window.location.href=n.redirectUrl),e.clearRedirectField()}),r),e.hasRedirectTimer=!0},this.bindEvent(),this.hasExposure=!1}var t=e.prototype;return t.init=function(e){void 0===e&&(e={}),this.version=G,this.hasBindEvent=!1,this.redirectTimer=null,this.hasRedirectTimer=!1,this.isAutoCallRedirect=!1,this.autoRedirectStart=null,this.autoRedirectEnd=null;var t=Object.assign({pageCode:T(),callAppUrl:"aliexpress://home",targetUrl:"",needRedirect:!0,callAppCallback:null,isAutoCall:!1,sendPoint:!0,spm:[k(),"smartbanner","0"].join("."),pageId:window.dmtrack_pageid||"",timeout:3e3,activityId:"","spm-url":y("spm"),cookieInfo:{},extParams:{}},e);t.cookieInfo=t.cookieInfo||{},t.extParams=t.extParams||{},t.redirectUrl=E(t.targetUrl||D(),t)||"",t.callAppUrl=C(t.callAppUrl,t)||"",this.options=t},t.getCommonPointParams=function(){var e=this.options,t=void 0===e?{}:e;return l()({host:J,fromPageCode:t.pageCode||"",m_page_id:t.pageId||"","spm-url":t["spm-url"]||"","spm-cnt":t.spm||"",abId:t.abId||"",bktId:t.bktId||"",version:this.version,isAutoCall:t.isAutoCall||"",activityId:t.activityId||"",needRedirect:t.needRedirect},t.cookieInfo)},t.exposurePoint=function(){if(!this.hasExposure){this.hasExposure=!0;var e=this.options;F("exposure",l()({exp_page_area:"smartbanner_core",exp_type:"in_download_bar_core",exp_page:e.pageCode||""},this.getCommonPointParams()))}},t.bindEvent=function(){var e=this;this.hasBindEvent||(this.hasBindEvent=!0,document.addEventListener("visibilitychange",(function(){if(document.hidden&&e.redirectTimer&&e.hasRedirectTimer){var t=e.options;e.autoRedirectEnd=+new Date;var n=l()({cost_t:e.autoRedirectEnd-e.autoRedirectStart,has_app:!0,redirectUrl:encodeURIComponent(t.redirectUrl),callAppUrl:encodeURIComponent(t.callAppUrl)},e.getCommonPointParams());t.sendPoint&&F("click",n),_(t.callAppCallback)&&t.callAppCallback(!0,n),e.clearRedirectTimer(),e.clearRedirectField()}})))},t.clearRedirectField=function(){this.autoRedirectStart=null,this.autoRedirectEnd=null,this.isAutoCallRedirect=!1},t.clearRedirectTimer=function(){this.hasRedirectTimer=!1,window.clearTimeout(this.redirectTimer)},e}();n(455);var H=null;var Y=r;n(457);var q=1,W=function(){function e(e){this.copyId=void 0,this.containerId=void 0,this.isDestory=void 0,this.isInit=void 0,this.isInit=!1,this.init(e)}var t=e.prototype;return t.init=function(e){if(!this.isInit){this.isInit=!0,this.copyId="copy_textarea_"+q,this.containerId="copy_box_"+q;var t=this.getCopyBoxHtml(e.text),n=document.getElementsByTagName("body")[0],r=document.createElement("div");r.setAttribute("style","position: relative"),r.setAttribute("id",this.containerId),r.innerHTML=t,n.appendChild(r),this.isDestory=!1,q+=1}},t.copy=function(e){if(!this.isDestory){var t=document.getElementById(this.copyId);if(t)try{t.focus(),t.select();var n=!1;document.queryCommandSupported("copy")&&(n=document.execCommand("copy",!1,null)),e&&e(n)}catch(t){e&&e(!1)}}},t.destory=function(){if(!this.isDestory){var e=document.getElementById(this.containerId);try{e&&e.remove(),this.isDestory=!0}catch(e){}}},t.getCopyBoxHtml=function(e){void 0===e&&(e="");var t=this.getCopyTextStyle();return['<textarea id="'+this.copyId+'" readOnly style="'+t+'" value="'+e+'" >'+e+"</textarea>"].join("")},t.getCopyTextStyle=function(){return["font-size: 12px;","border: 0;","padding: 0;","margin: 0;","position: absolute;","left: -9999px;","top: "+(window.pageYOffset||document.documentElement.scrollTop)+"px;"].join("")},e}(),$=n(458),Q=n(459),K=function(e,t){var n=$.default.get(e,{domain:(0,Q.getFixedDomainUrl)(),path:"/",raw:!0})||"",r=new RegExp("(.*&?"+t+"=)(.*?)(&.*|$)");n.match(r);var o=RegExp.$2;return r.test(n)&&function(e,t){var n={b_localeFormat:/^[a-z]{2}_[A-Z]{2}$/,c_tpFormat:/^[A-Z]{3}$/,regionFormat:/^[A-Z]{2,3}$/,signFormat:/^(y|n)$/,x_as_iFormat:/^([A-Za-z0-9]|(%))+/,acs_rtFormat:/^[A-Za-z0-9]+$/};return!/(&|=)/.test(t)&&(t&&n[e+"Format"]&&n[e+"Format"].test(t))}(t,o)?o:""};window.__getCookie=K;var X="poplayer-web-container-cachetimes",V=location.href.substring(0,location.href.indexOf("#")<0?location.href.length:location.href.indexOf("#")),Z=V.substr(V.indexOf("?")),ee={};Z&&Z.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),(function(e,t,n,r){return ee[t]=decodeURIComponent(r),""}));var te=n(168),ne=n(174),re=n(173),oe=n(172),ie=n(171),ae=n(461),se=n.n(ae),ce=function(e){return Object.keys(Object.getPrototypeOf(e)).reduce((function(t,n){var r;return Object.assign(t,((r={})[n]=e[n],r))}),Object.assign({},e))};function pe(e){var t,n;void 0===e&&(e="BODY");var r=document.querySelector(e);if(!r)return[];var o=document.createNodeIterator(r,NodeFilter.SHOW_TEXT);for(var i,a,s=null,c=[];s=o.nextNode();)if(s&&s.wholeText.trim().length){var p=(i=s,a=void 0,(a=document.createRange()).selectNode(i),a.getBoundingClientRect());p.top>=0&&p.left>=0&&p.width>0&&p.height>0&&c.push(l()({},ce(p),{type:"text"}))}Array.from(r.getElementsByTagName("img")).forEach((function(e){var t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.width>0&&t.height>0&&c.push(l()({},ce(t),{type:"img"}))})),Array.from(r.getElementsByTagName("svg")).forEach((function(e){var t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.width>0&&t.height>0&&c.push(l()({},ce(t),{type:"svg"}))})),Array.from(r.getElementsByTagName("canvas")).forEach((function(e){var t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.width>0&&t.height>0&&c.push(l()({},ce(t),{type:"canvas"}))}));var d=JSON.stringify({title:e,width:null==r||null===(t=r.getBoundingClientRect())||void 0===t?void 0:t.width,height:null==r||null===(n=r.getBoundingClientRect())||void 0===n?void 0:n.height,pagePortrait:c.map((function(e){var t,n;return l()({},e,{x:e.x-(null==r||null===(t=r.getBoundingClientRect())||void 0===t?void 0:t.left),y:e.y-(null==r||null===(n=r.getBoundingClientRect())||void 0===n?void 0:n.top)})}))});return se.a.compress(d)}n(460);var le=function(e){window.AES_QUEUE&&window.AES_QUEUE.push(e)},de=function(e,t,n){var r,o,i,a;if("function"==typeof(null===(r=window)||void 0===r||null===(o=r._AES)||void 0===o?void 0:o.AESPluginEvent)){var s={};if("string"==typeof t){for(var c={},p=arguments.length,d=new Array(p>3?p-3:0),u=3;u<p;u++)d[u-3]=arguments[u];d.forEach((function(e,t){c["c"+(t+1)]=e})),s=l()({et:t,xpath:n},c)}else s=t;-1==["EXP","CLK","SLD","INPUT","SYS","OTHER"].indexOf(s.et)&&console.warn&&console.warn("'et' should been 'EXP','CLK','SLD','INPUT','SYS', 'OTHER'"),null===(i=window)||void 0===i||null===(a=i._AES)||void 0===a||a.AESPluginEvent(e,s)}},ue=function(e,t){void 0===t&&(t=!1);try{!function(e,t,n){void 0===e&&(e="BODY"),void 0===t&&(t=!1);var r=new te.a,o=new re.a(e),i=new ne.a(e),a=new oe.a(e),s=new ie.a(e);o.apply(r),i.apply(r),a.apply(r),s.apply(r),r.run((function(r){void 0===r&&(r={}),r&&n(l()({},r,{c4:t?pe(e):""}))}))}(e,t,(function(e){var t=e.c1,n=e.c2,r=e.c3,o=e.c4,i=void 0===o?"":o,a=e.c5,s=void 0===a?"":a,c=e.c6;t&&de("FFFFFF","OTHER","",t,n,r,i,s,void 0===c?"":c)})),window.__isInitGEPWhitePageDetect||(window.__isInitGEPWhitePageDetect=!0)}catch(e){console.error(e)}};function fe(e){try{"function"==typeof e&&e()}catch(e){console.error(e)}}window.GEP_READY_LISTENER=window.GEP_READY_LISTENER||[];var me,he,ve,ge=window.GEP_READY_LISTENER||[];if(ge.isProxy||(window.GEP_READY_LISTENER=new Proxy(ge,{set:function(e,t,n,r){return"length"!==t&&fe(n),!0},get:function(e,t,n){return"isProxy"===t||Reflect.get(e,t,n)}})),window.GEP_READY_LISTENER&&window.GEP_READY_LISTENER.length)try{setTimeout((function(){window.GEP_READY_LISTENER.forEach((function(e){fe(e)}))}),0)}catch(e){console.error(e)}setTimeout((function(){window.__isInitGEPWhitePageDetect||ue("BODY",!1)}),0),null!==(me=window)&&void 0!==me&&me.GEP_EVENT_QUEUE&&(null!==(he=window)&&void 0!==he&&null!==(ve=he.GEP_EVENT_QUEUE)&&void 0!==ve&&ve.length&&window.GEP_EVENT_QUEUE.forEach((function(e){void 0===e&&(e={});var t=e,n=t.eventId,r=t.et,o=t.xpath,i=t.args;de.apply(void 0,[n,r,o].concat(void 0===i?[]:i))})),window.GEP_EVENT_QUEUE=null);var ye=n(462),we=n.n(ye);function _e(e,t){we.a.error(new Error(e),{filename:t}),function(e,t,n,r,o){void 0===t&&(t="empty"),void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o="empty");try{var i={};if("string"==typeof e)i={message:e,url:t,lineno:n,colno:r,stack:o};else{var a=e.message,s=e.url,c=void 0===s?"empty":s,p=e.lineno,l=void 0===p?0:p,d=e.colno,u=void 0===d?0:d,f=e.stack;i={message:a,url:c,lineno:l,colno:u,stack:void 0===f?"empty":f}}le({action:"log",arguments:["js_error",i]})}catch(e){console.error(e)}}(new Error(e))}function be(e,t,n,r){if(void 0===n&&(n=""),void 0===r&&(r=""),t)return we.a.api.success(e,n,"200"),void function(e,t,n,r,o){void 0===n&&(n=0),void 0===r&&(r=""),void 0===o&&(o="");var i={};if("string"==typeof e){var a={success:!0,status:200,code:"LOGIC_SUCCESS",trace_id:"",headers:"",rtype:"xhr"};i=l()({},a,{url:e,msg:t,duration:n,params:r,response:o})}else{var s={success:!0,status:200,code:"LOGIC_SUCCESS",trace_id:"",headers:"",rtype:"xhr"};i=l()({},s,e)}le({action:"log",arguments:["api",i]})}({url:e,rtype:"mtop"});try{"object"==typeof r&&(r=JSON.stringify(r))}catch(e){}we.a.api.error(e,n,"ERROR",r),function(e,t,n,r,o){void 0===n&&(n=0),void 0===r&&(r=""),void 0===o&&(o="");var i={};if("string"==typeof e){var a={success:!1,status:200,code:"LOGIC_ERROR",trace_id:"",headers:"",rtype:"xhr"};i=l()({},a,{url:e,msg:t,duration:n,params:r,response:o})}else{var s={success:!1,status:200,code:"LOGIC_ERROR",trace_id:"",headers:"",rtype:"xhr"};i=l()({},s,e)}le({action:"log",arguments:["api",i]})}({url:e,rtype:"mtop",msg:r})}function xe(e,t,n){var r,o,i;"detail"===(null===(r=window)||void 0===r||null===(o=r.g_SPM)||void 0===o||null===(i=o._current_spm)||void 0===i?void 0:i.b)&&"poplayerShow"===e&&we.a.report({t10:Promise.resolve(n)}),de(e,{et:t,xpath:"html/body/div",c1:n})}var Ee=!1;window.lib&&window.lib.mtop||(Ee=!0,n(35));var Ce=function(){var e=a()(u.a.mark((function e(t,n){var r,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),Ee&&((r=window.lib.mtop.config).H5Request=!0,r.prefix=ee.__prefix||"acs",r.subDomain="",r.mainDomain=location.hostname.indexOf("aliexpress")>=0?location.hostname.substr(location.hostname.indexOf("aliexpress")):"aliexpress.com"),o=l()({},t,{v:t.v||"1.0",encode:"1",ecode:1,appKey:24815441,data:t.data}),i=Date.now(),e.abrupt("return",window.lib.mtop.request(o).then((function(e){var n,r;null!=e&&null!==(n=e.data)&&void 0!==n&&n.success?be(t.api,!0,""+(Date.now()-i)):be(t.api,!1,""+(Date.now()-i),null==e||null===(r=e.ret)||void 0===r?void 0:r[0]);return e})).catch((function(e){throw be(t.api,!1,""+(Date.now()-i),""+e),e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(e,t){var n,r,o,i;void 0===t&&(t="pc");var a=K("aep_usuc_f","b_locale"),s=K("aep_usuc_f","region"),c=a&&(null==a||null===(n=a.split("_"))||void 0===n?void 0:n[0])+"_"+s,p=K("aep_usuc_f","c_tp"),l=K("xman_us_f","acs_rt"),d=K("xman_us_f","x_as_i");return Ce({type:"POST",api:"mtop.aliexpress.usertouch.poplayer.get",v:"2.0",data:{_currency:p,_lang:c="en_CN"===c?"en_US":c,clientType:t,positionSign:e,ext:JSON.stringify({pullTrafficRuleParam:{originalUrl:null===(r=window)||void 0===r||null===(o=r.location)||void 0===o?void 0:o.href,appAffiParameters:decodeURIComponent(d||"")||"",acsRt:l,referUrl:null===(i=document)||void 0===i?void 0:i.referrer}})}})};function Ie(e){throw e}var Te={},ke="";function Ae(e){ke=e;var t=X+"-"+e,n=localStorage.getItem(t)||localStorage.getItem(X)||"";try{n&&(Te=JSON.parse(n)||{})}catch(e){Te={}}}var Re,Oe=function(){return Te},Pe=(Re={reducer:function(e){switch(void 0===e&&(e={}),e.type){case"add":return e.payload;case"reduceTime":return t=e.payload.key,(r=Te[t]).times-r.showTimes>0?l()({},Te,((n={})[t]=l()({},r,{showTimes:r.showTimes+1}),n)):Te;case"addTime":return function(e,t){var n,r=Te[e];return l()({},Te,((n={})[e]=l()({},r,{showTimes:r.showTimes-t}),n))}(e.payload.key,e.payload.times);default:Ie("action should has type property")}var t,n,r},afterProcess:[function(e){Te=e;var t=ke?X+"-"+ke:X;localStorage.setItem(t,JSON.stringify(Te))}]},function(e){var t;void 0===e&&(e={});var n=Re.reducer(e);null==Re||null===(t=Re.afterProcess)||void 0===t||t.forEach((function(e){e(n)}))}),Ue=["https://campaign.aliexpress.com","http://campaign.aliexpress.com","https://pre-wormhole.aliexpress.com","http://pre-wormhole.aliexpress.com"],De=function(){var e="postMessage"in window;function t(e,t,n){var r="";if(arguments.length<2?r="target error - target and name are both required":"object"!=typeof e?r="target error - target itself must be window object":"string"!=typeof t&&(r="target error - target name must be string type"),r)throw new Error(r);this.target=e,this.name=t,this.prefix=n}function n(e,t){this.targets={},this.name=e,this.listenFunc=[],this.prefix=t||"[PROJECT_NAME]",this.initListen()}return t.prototype.send=e?function(e){this.target.postMessage(this.prefix+"|"+this.name+"__Messenger__"+e,"*")}:function(e){var t=window.navigator[this.prefix+this.name];if("function"!=typeof t)throw new Error("target callback function is not defined");t(this.prefix+e,window)},n.prototype.addTarget=function(e,n){var r=new t(e,n,this.prefix);this.targets[n]=r},n.prototype.initListen=function(){var t=this,n=function(e){if((-1!==Ue.indexOf(e.origin)||e.origin===window.location.origin)&&"object"==typeof e&&e.data&&e.data.indexOf&&e.data.indexOf("__Messenger__")>=0)for(var n=(e=e.data).split("__Messenger__"),r=(e=n[1],n[0].split("|")),o=r[0],i=r[1],a=0;a<t.listenFunc.length;a++)o+i===t.prefix+t.name&&t.listenFunc[a](e)};e?"addEventListener"in document?window.addEventListener("message",n,!1):"attachEvent"in document&&window.attachEvent("onmessage",n):window.navigator[this.prefix+this.name]=n},n.prototype.listen=function(e){for(var t=0,n=this.listenFunc.length,r=!1;t<n;t++)if(this.listenFunc[t]==e){r=!0;break}r||this.listenFunc.push(e)},n.prototype.clear=function(){this.listenFunc=[]},n.prototype.send=function(e){var t,n=this.targets;for(t in n)n.hasOwnProperty(t)&&n[t].send(e)},n}();function Ne(e,t,n){var r=e.indexOf("?");return r>=0&&(r<e.indexOf("#")||e.indexOf("#")<0)?e.replace(/\?/,"?"+t+"="+encodeURIComponent(n)+"&"):e.indexOf("#")>=0?e.replace("#","?"+t+"="+encodeURIComponent(n)+"#"):e+"?"+t+"="+encodeURIComponent(n)}var je=n(121),Me=["type"];function Le(e){return Be.apply(this,arguments)}function Be(){return(Be=a()(u.a.mark((function e(t){var n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=t.type,r=c()(t,Me),Object.keys(r||{}).reduce((function(e,n){var o=r[n];return t[n]=o,o?e+"&"+n+"="+o:e}),""),o=[""+t.log_key,"click"===n?"CLK":"EXP"],"poplayer","click"===n?t.ae_page_type="poplayer":t.exp_type="poplayer",t.spm_cnt=t.spm_cnt||"a2g0n.poplayer",t.sdkVersion="1.0.24","CLK"===o[1]?Object(je.a)(t):Object(je.b)(t)}catch(e){_e("poplayer 打点上报出错:"+e,"src/util/log.ts")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fe=window.navigator.userAgent;function Ge(){return!!Fe.match(/(phone|pad|pod|iPhone|iPod|iPad|ios|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}function Je(e){var t=e.positionSign,n=e.uuid,r="autoCollectPopCoupon-"+t,o=localStorage.getItem(r)||"";if(o)try{var i=(o?JSON.parse(o):{})||{},a=(i.positionSign,i.uuid),s=i.timestamp,c=void 0===s?0:s,p=+new Date;a&&(a!==n||p-c>=3e5)&&localStorage.removeItem(r)}catch(e){}}var ze=n(6),He=n.n(ze),Ye=n(34),qe=n.n(Ye);var We=function(e,t,n){var r,o,i,a,s=document.createElement("div");document.body.appendChild(s);var c=null==t||null===(r=t.params)||void 0===r?void 0:r.jsComboUrl,p=null===(o=c.match(/@ali\/gmod-(poplayer|pop)(-[a-z]+)+/))||void 0===o?void 0:o[0],l=document.createElement("script");return l.src=c,null===(i=document.getElementsByTagName("head"))||void 0===i||null===(a=i[0])||void 0===a||a.appendChild(l),l.onload=function(){var r,o=document.body.getAttribute("data-spm")||"0";if(null!==(r=window)&&void 0!==r&&r[p]){var i=He.a.createElement(window[p],{popInfo:t,positionSign:e.positionSign,parentSpmB:o,uuid:n});i&&qe.a.render(i,s)}else _e("poplayer module not found: "+p,"src/page/index/new.ts")},s},$e=["callAppUrl","targetUrl","pageCode","needRedirect","isAutoCall","spm","pageId"],Qe=(Ge(),Ge()?"a2g0n":"a2g0o"),Ke=Ge()?"msite":"pc",Xe=Date.now(),Ve="postMessage"in window;function Ze(e){var t=[];for(var n in e)t.push(l()({},e[n],{uuid:n}));var r={smallImage:!1,other:!1},o=t.sort((function(e,t){return t.priority-e.priority})).filter((function(e){return e.times>e.showTimes}));return o.length?o.filter((function(e){if("smallImage"===e.type){if(!r.smallImage)return r.smallImage=!0,!0}else if(!r.other)return r.other=!0,!0;return!1})).map((function(e){return e.uuid})):[]}function et(e,t,n){var r=document.createElement("iframe"),o=t.split(/_/)&&t.split(/_/)[2];return o&&(r.src=Ne(Ne(Ne(e,"__poplayer_preserve_uuid",o),"__prefix",ee.__prefix||""),"__poplayer_position_sign",n),r.name=t,r.style.width="100%",r.style.height="100%",r.style.border="none",r.style.display="none",r.style.position="fixed",r.style.zIndex="-100",r.style.left="0",r.style.top="0",r.style.transform="translate3d(0, 0, -100)",document.body.appendChild(r)),r}function tt(e){return"number"==typeof e||/^\d+$/.test(""+e)?e+"px":e}function nt(e,t,n,r){return void 0===r&&(r=0),{showTimes:0===t?-1:n||0}}function rt(e,t,n,r,o,i,a){void 0===a&&(a=!1);var s=new De(e+"parent",void 0);s.addTarget(t.contentWindow||window,e),s.listen((function(s){var p,d,u,f,m=JSON.parse(s);switch(m.type){case"load":Le({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Qe+"."+i+".poplayer.loadsuccess",type:"expose",exp_page:r,positionSign:o,exp_type:"poplayer",houyiTrack:n,isNewModule:a,clientType:Ke,extend:JSON.stringify(null!==(p=null==m?void 0:m.extend)&&void 0!==p?p:{})});break;case"resizeWidthPosition":m.payload&&m.payload.width&&(t.style.width=tt(m.payload.width)),m.payload&&m.payload.height&&(t.style.height=tt(m.payload.height)),m.payload&&m.payload.top&&(t.style.top=tt(m.payload.top)),m.payload&&m.payload.bottom&&(t.style.bottom=tt(m.payload.bottom)),m.payload&&m.payload.left&&(t.style.left=tt(m.payload.left)),m.payload&&m.payload.right&&(t.style.right=tt(m.payload.right));break;case"show":Le({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Qe+"."+i+".poplayer.display",type:"expose",positionSign:o,exp_page:r,exp_type:"poplayer",houyiTrack:n,clientType:Ke,isNewModule:a,timeToShow:""+(Date.now()-Xe),extend:JSON.stringify(null!=m&&m.extend?l()({m_page_id:window.dmtrack_pageid||"","spm-url":ee.spm||""},m.extend):{})}),t.style.display="block",t.style.zIndex="1000000",t.style.transform="translate3d(0, 0, 10000)",Pe({type:"reduceTime",payload:{key:e}}),xe("poplayerShow","EXP",""+(Date.now()-Xe));break;case"addTime":Pe({type:"addTime",payload:{key:e,times:m.payload}});break;case"link":Le({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:Qe+"."+i+".poplayer.jump",type:"click",positionSign:o,exp_page:r,exp_type:"poplayer",houyiTrack:n,clientType:Ke,isNewModule:a,extend:JSON.stringify(null!==(d=null==m?void 0:m.extend)&&void 0!==d?d:{})});var h=m.payload;h=h.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),window.location.href=h;break;case"close":document.body.removeChild(t),Le({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:Qe+"."+i+".poplayer.close",type:"click",positionSign:o,exp_page:r,exp_type:"poplayer",houyiTrack:n,clientType:Ke,isNewModule:a,extend:JSON.stringify(null!=m&&m.extend?{m_page_id:window.dmtrack_pageid||"","spm-url":ee.spm||""}:{})});break;case"failed":document.body.removeChild(t),Le({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Qe+"."+i+".poplayer.hidden",type:"expose",positionSign:o,exp_page:r,houyiTrack:n,isNewModule:a,exp_type:"poplayer",clientType:Ke,extend:JSON.stringify(null!==(u=null==m?void 0:m.extend)&&void 0!==u?u:{})});break;case"callApp":var v=m.payload,g=v.callAppUrl,y=v.targetUrl,w=(v.pageCode,v.needRedirect),_=v.isAutoCall,b=v.spm,x=void 0===b?Qe+"."+i+".poplayer.callapp":b,E=v.pageId,C=c()(v,$e);if(g)try{var S=Y.fixCallUrlParams(g),I=K("xman_us_f","acs_rt");if(I){var T=new W({text:["$",I||"","$"].join("")});T.copy((function(){})),setTimeout((function(){T.destory()}),150)}void 0===(f=l()({callAppUrl:S,callAppCallback:function(){},targetUrl:y,pageCode:i,needRedirect:void 0!==w?w:!!y,isAutoCall:_,spm:x,pageId:E||window.dmtrack_pageid||"",extParams:l()({track:n,fromAction:"poplayer"},C)},C))&&(f={}),H||(H=new z),H.execCallApp(f),Le({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:Qe+"."+i+".poplayer.callapp",type:"click",positionSign:o,exp_page:r,exp_type:"poplayer",houyiTrack:n,clientType:Ke,isNewModule:a,extend:JSON.stringify(null!=m&&m.extend?l()({m_page_id:window.dmtrack_pageid||"","spm-url":ee.spm||""},m.extend):{})})}catch(t){_e("poplayer "+e+" callAppUrl error: "+t,"src/page/index/index.ts"),console.log(t);try{if(w&&y){var k=Y.createRedirectUrl(y,{pageCode:i,isAutoCall:_,spm:x,pageId:E||window.dmtrack_pageid||"","spm-url":ee.spm||""});window.location.href=k}}catch(t){_e("poplayer "+e+" callAppUrl redirect error: "+t,"src/page/index/index.ts"),console.error(t)}}document.body.removeChild(t);break;default:document.body.removeChild(t),_e("poplayer "+e+":never unknown message happen, auto close poplayer","src/page/index/index.ts"),Ie("never unknown message happen, auto close poplayer")}}))}function ot(){return(ot=a()(u.a.mark((function e(t){var n,r,o,i,a,s,c,p,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ae(t.positionSign),r=document.body.getAttribute("data-spm")||"0",Le({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Qe+"."+r+".poplayer.trigger",type:"expose",positionSign:t.positionSign,exp_page:t.positionSign,exp_type:"poplayer",clientType:Ke}),o=Date.now(),e.next=6,Se(t.positionSign,Ke);case 6:i=e.sent,xe("poplayerMtopTiming","OTHER",""+(Date.now()-o)),a=Oe(),s=null==i||null===(n=i.data)||void 0===n?void 0:n.popLayerRuleMap,c=Object.keys(s).reduce((function(e,t){var n;return l()({},e,((n={})[t]=JSON.parse(s[t]),n))}),{}),p=Object.keys(c).reduce((function(e,t){var n,r,o,i=c[t];return l()({},e,((o={})[i.uuid]=l()({times:i.times,type:i.type,priority:i.priority},nt(0,i.times,null===(n=a[i.uuid])||void 0===n?void 0:n.showTimes,null===(r=a[i.uuid])||void 0===r?void 0:r.startTime)),o))}),{}),Pe({type:"add",payload:p}),(d=Ze(p)).length&&d.forEach((function(e){var n,o,i,a,s,p,l,d,u,f=null===(n=c[e])||void 0===n||null===(o=n.params)||void 0===o?void 0:o.extGcpOutputPageUrl,m=null===(i=c[e])||void 0===i||null===(a=i.params)||void 0===a?void 0:a.jsComboUrl,h=null===(s=c[e])||void 0===s?void 0:s.type,v=null===(p=c[e])||void 0===p||null===(l=p.params)||void 0===l?void 0:l.type;"placeholder"===h&&"emptyContent"===v&&Le({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Qe+"."+r+".poplayer.openurl",type:"expose",positionSign:t.positionSign,houyiTrack:null===(d=c[e])||void 0===d||null===(u=d.params)||void 0===u?void 0:u.track,exp_page:f,exp_type:"poplayer",clientType:Ke});if(f&&Ve){var g,y,w,_;if(Le({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Qe+"."+r+".poplayer.openurl",type:"expose",positionSign:t.positionSign,houyiTrack:null===(g=c[e])||void 0===g||null===(y=g.params)||void 0===y?void 0:y.track,exp_page:f,exp_type:"poplayer",clientType:Ke}),m){var b,x,E=null===(b=c[e])||void 0===b||null===(x=b.params)||void 0===x?void 0:x.track,C=We(t,c[e],e);return rt(e,C,E,window.location.href,t.positionSign,r,!0),void Je({positionSign:t.positionSign,uuid:e})}var S=f,I=et(S+=S.indexOf("?")>=0?"&parentSpmB="+r:"?parentSpmB="+r,e,t.positionSign);I.onerror=function(t){_e(e+" poplayer iframe on error","src/page/index/index.ts")},rt(e,I,null===(w=c[e])||void 0===w||null===(_=w.params)||void 0===_?void 0:_.track,f,t.positionSign,r)}}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(e){return ot.apply(this,arguments)}},90:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}}]);