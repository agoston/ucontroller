(window["webpackJsonp-ae-fe/detail-ui-2"]=window["webpackJsonp-ae-fe/detail-ui-2"]||[]).push([[4],{587:function(e,t,r){e.exports=r(613)},588:function(e,t){function r(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,u,"next",e)}function u(e){r(a,o,i,s,u,"throw",e)}s(void 0)}))}}},589:function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},594:function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}},595:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={},o=decodeURIComponent,i=encodeURIComponent;function a(e){return"string"==typeof e}function s(e){return a(e)&&""!==e}function u(e){if(!s(e))throw new TypeError("Cookie name must be a non-empty string")}function c(e){return e}n.get=function(e,t){u(e),t="function"==typeof t?{converter:t}:t||{};var r=function(e,t){var r={};if(a(e)&&e.length>0)for(var n,i,s,u=t?o:c,p=e.split(/;\s/g),l=0,d=p.length;l<d;l++){if((s=p[l].match(/([^=]+)=/i))instanceof Array)try{n=o(s[1]),i=u(p[l].substring(s[1].length+1))}catch(e){}else n=o(p[l]),i="";n&&(r[n]=i)}return r}(document.cookie,!t.raw);return(t.converter||c)(r[e])},n.set=function(e,t,r){u(e);var n=(r=r||{}).expires,o=r.domain,a=r.path;r.raw||(t=i(String(t)));var c=e+"="+t,p=n;return"number"==typeof p&&(p=new Date).setDate(p.getDate()+n),p instanceof Date&&(c+="; expires="+p.toUTCString()),s(o)&&(c+="; domain="+o),s(a)&&(c+="; path="+a),r.secure&&(c+="; secure"),document.cookie=c,c},n.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)};var p=n;t.default=p},596:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFixedDomainUrl=function(){return n};var n="aliexpress.com";[{reg:/aliexpress.ru/,domain:"aliexpress.ru"},{reg:/tmall.ru/,domain:"tmall.ru"}].forEach((function(e){e.reg.test(window.location.host)&&(n=e.domain)}))},613:function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof l?t:l,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return C()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=w(a,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function l(){}function d(){}function f(){}var m={};m[o]=function(){return this};var h=Object.getPrototypeOf,g=h&&h(h(S([])));g&&g!==t&&r.call(g,o)&&(m=g);var v=f.prototype=l.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,s){var u=c(e[o],e,i);if("throw"!==u.type){var p=u.arg,l=p.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){p.value=e,a(p)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=v.constructor=f,f.constructor=d,d.displayName=s(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(_.prototype),_.prototype[i]=function(){return this},e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),s(v,a,"Generator"),v[o]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},614:function(e){e.exports=JSON.parse('{"_args":[["@alife/heaven-smart-banner-core@0.1.6","/cloud/source_code"]],"_from":"@alife/heaven-smart-banner-core@0.1.6","_id":"@alife/heaven-smart-banner-core@0.1.6","_inBundle":false,"_integrity":"sha1-XEz9qhIhprNx+Nt4ESkiKm9RaS8=","_location":"/@alife/heaven-smart-banner-core","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@alife/heaven-smart-banner-core@0.1.6","name":"@alife/heaven-smart-banner-core","escapedName":"@alife%2fheaven-smart-banner-core","scope":"@alife","rawSpec":"0.1.6","saveSpec":null,"fetchSpec":"0.1.6"},"_requiredBy":["/@ali/poplayer-web-container"],"_resolved":"https://registry.npm.alibaba-inc.com/@alife/heaven-smart-banner-core/download/@alife/heaven-smart-banner-core-0.1.6.tgz","_spec":"0.1.6","_where":"/cloud/source_code","author":{"name":"老邬"},"componentConfig":{"name":"@alife/heaven-smart-banner-core","title":"","desc":""},"dependencies":{"@alife/zoro-cookie":"^2.0.10","prop-types":"^15.5.8"},"description":"","devDependencies":{"@alib/build-scripts":"^0.1.20","@types/classnames":"^2.2.10","@types/enzyme":"^3.10.5","@types/enzyme-adapter-react-16":"^1.0.6","@types/jest":"^25.1.4","@types/react":"^16.9.33","@types/react-dom":"^16.9.6","@typescript-eslint/eslint-plugin":"^2.26.0","@typescript-eslint/parser":"^2.26.0","build-plugin-component":"^0.2.15","build-plugin-fusion":"^0.1.2","build-plugin-moment-locales":"^0.1.0","enzyme":"^3.11.0","enzyme-adapter-react-16":"^1.15.2","eslint":"^6.8.0","eslint-plugin-react":"^7.19.0","identity-obj-proxy":"^3.0.0","jest":"^25.2.4","react":"^16.13.1","react-dom":"^16.13.1","ts-jest":"^25.3.0","typescript":"^3.8.3"},"heavenConfig":{"authors":"老邬","createdDate":"1588735826157","updatedDate":"1588735826157","version":"0.0.1","category":"基础组件","biz":"基础链路","framework":"React","platform":"PC","tags":"a,b,c"},"homepage":"https://unpkg.alibaba-inc.com/@alife/heaven-smart-banner-core@0.1.6/build/index.html","keywords":[],"license":"MIT","main":"lib/index.js","module":"es/index.js","name":"@alife/heaven-smart-banner-core","publishConfig":{"registry":"https://registry.npm.alibaba-inc.com"},"scripts":{"build":"build-scripts build","start":"build-scripts start","test":"build-scripts test"},"types":"es/index.d.ts","version":"0.1.6"}')},615:function(e,t,r){"use strict";var n=r(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),i=n(r(4)),a=n(r(595)),s=n(r(616)),u=r(596),c=new(function(){function e(){(0,o.default)(this,e),this.siteFormat=/^[a-z]{3}(_[a-z]{1})?$/,this.x_localeFormat=/^[a-z]{2}_[A-Z]{2}$/,this.s_localeFormat=/^[a-z]{2}_[A-Z]{2}$/,this.b_localeFormat=/^[a-z]{2}_[A-Z]{2}$/,this.c_tpFormat=/^[A-Z]{3}$/,this.regionFormat=/^[A-Z]{2,3}$/,this.provinceFormat=/^[0-9]{18}$/,this.cityFormat=/^[0-9]{18}$/,this.siFormat=/^(glo|rus|bra|esp|idn|fra|deu|ita)$/,this.signFormat=/^(y|n)$/,this.rmb_ppFormat=/^.*$/,this.x_userFormat=/^.*$/,this.issFormat=/^(y)$/,this.isbFormat=/^(y)$/,this.ispmFormat=/^(y)$/,this.isksFormat=/^(y)$/,this.isgclFormat=/^(y)$/,this.reg_verFormat=/^(new|old)$/,this.x_lFormat=/^[01]{1}$/,this.ber_lFormat=/^A\d$/,this.zero_orderFormat=/^(y)$/,this.ae_u_p_sFormat=/^[012]{1}$/,this.ups_u_tFormat=/^[0-9]{13,}$/,this.re_snsFormat=/^.*$/,this.x_csrfFormat=/^.*$/,this.x_c_chgFormat=/^[01]{1}$/,this.x_c_syncedFormat=/^[01]{1}$/,this.acs_rtFormat=/^[A-Za-z0-9]+$/,this.alimidFormat=/^[0-9]+$/,this.x_as_iFormat=/^([A-Za-z0-9]|(%))+/}return(0,i.default)(e,[{key:"get",value:function(e,t){return a.default.get(e,t)}},{key:"_setcookie",value:function(e,t,r){if(r&&!this.validate(t,r))return!1;var n=a.default.get(e,{domain:(0,u.getFixedDomainUrl)(),path:"/",raw:!0})||"";n=new RegExp("(.*&?"+t+"=)(.*?)(&.*|$)").test(n)?RegExp.$1+r+RegExp.$3:(n?n+"&":"")+t+"="+r,a.default.set(e,n,{domain:(0,u.getFixedDomainUrl)(),path:"/",expires:3650,raw:!0})}},{key:"_getCookie",value:function(e,t){var r=a.default.get(e,{domain:(0,u.getFixedDomainUrl)(),path:"/",raw:!0})||"",n=new RegExp("(.*&?"+t+"=)(.*?)(&.*|$)");r.match(n);var o=RegExp.$2;return n.test(r)&&this.validate(t,o)?o:""}},{key:"validate",value:function(e,t){return!/(&|=)/.test(t)&&!!(t&&this[e+"Format"]&&this[e+"Format"].test(t))}},{key:"getMSite",value:function(e,t){var r=a.default.get(e,{domain:"m.aliexpress.com",path:"/",raw:!0})||"",n=new RegExp("(.*&?"+t+"=)(.*?)(&.*|$)");r.match(n);var o=RegExp.$2;return n.test(r)&&this.validate(t,o)?o:""}},{key:"setSite",value:function(e){this._setcookie("aep_usuc_f","site",e)}},{key:"getSite",value:function(){return this._getCookie("aep_usuc_f","site")}},{key:"setRegion",value:function(e){this._setcookie("aep_usuc_f","region",e)}},{key:"getRegion",value:function(){return this._getCookie("aep_usuc_f","region")}},{key:"setProvince",value:function(e){this._setcookie("aep_usuc_f","province",e)}},{key:"getProvince",value:function(){return this._getCookie("aep_usuc_f","province")}},{key:"setCity",value:function(e){this._setcookie("aep_usuc_f","city",e)}},{key:"getCity",value:function(){return this._getCookie("aep_usuc_f","city")}},{key:"getAlimid",value:function(){return this._getCookie("aep_usuc_f","alimid")}},{key:"getMsiteProvince",value:function(){return a.default.get("ae-msite-province",{domain:(0,u.getFixedDomainUrl)(),path:"/",raw:!0})||""}},{key:"getMsiteCity",value:function(){return a.default.get("ae-msite-city",{domain:(0,u.getFixedDomainUrl)(),path:"/",raw:!0})||""}},{key:"setCurrency",value:function(e){this._setcookie("aep_usuc_f","c_tp",e)}},{key:"getCurrency",value:function(){return this._getCookie("aep_usuc_f","c_tp")}},{key:"setLocale",value:function(e){this._setcookie("xman_us_f","x_locale",e)}},{key:"getLocale",value:function(){return this._getCookie("xman_us_f","x_locale")}},{key:"setSellerLocale",value:function(e){a.default.set("intl_locale",e,{domain:(0,u.getFixedDomainUrl)(),path:"/",expires:365,raw:!0}),this.setLocale(e),this._setcookie("aep_usuc_f","s_locale",e)}},{key:"getSellerLocale",value:function(){return this._getCookie("aep_usuc_f","s_locale")}},{key:"setBuyerLocale",value:function(e){this.setLocale(e),this._setcookie("aep_usuc_f","b_locale",e)}},{key:"getBuyerLocale",value:function(){return this._getCookie("aep_usuc_f","b_locale")}},{key:"getSign",value:function(){return this._getCookie("xman_us_t","sign")}},{key:"isLoggedIn",value:function(){return"y"==this.getSign()}},{key:"getLoginId",value:function(){return this._getCookie("xman_us_t","rmb_pp")}},{key:"getIss",value:function(){return this._getCookie("aep_usuc_f","iss")}},{key:"isSeller",value:function(){return"y"===this.getIss()}},{key:"getIsb",value:function(){return this._getCookie("aep_usuc_f","isb")}},{key:"isBuyer",value:function(){return"y"===this.getIsb()}},{key:"getIsks",value:function(){return this._getCookie("aep_usuc_f","isks")}},{key:"isKaSeller",value:function(){return"y"===this.getIsks()}},{key:"getIsgcl",value:function(){return this._getCookie("aep_usuc_f","isgcl")}},{key:"isGreenChannel",value:function(){return"y"===this.getIsgcl()}},{key:"getIspm",value:function(){return this._getCookie("aep_usuc_f","ispm")}},{key:"isPremiumMember",value:function(){return"y"===this.getIspm()}},{key:"getIsfm",value:function(){return this._getCookie("aep_usuc_f","isfm")}},{key:"isFreeMember",value:function(){return"y"===this.getIsfm()}},{key:"getRegVer",value:function(){return this._getCookie("aep_usuc_f","reg_ver")}},{key:"getOversea",value:function(){return this._getCookie("xman_us_f","x_l")}},{key:"isOversea",value:function(){return"1"!==this.getOversea()}},{key:"_getXUserRaw",value:function(){return this._getCookie("xman_us_f","x_user")}},{key:"getXUserObj",value:function(){var e={country:"",firstName:"",lastName:"",memberSeq:""},t=(this._getXUserRaw()||"").split("|");return t.length>=5&&(e.country=t[0],e.firstName=t[1].replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.lastName=t[2].replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.memberSeq=t[4]),e}},{key:"getMemberSeq",value:function(){return this.getXUserObj().memberSeq}},{key:"isNewUser",value:function(){return""===this.getXUserObj().memberSeq}},{key:"setHistory",value:function(e){e&&s.default.logProduct({id:e})}},{key:"getHistory",value:function(){return s.default.getProducts()}},{key:"setAETest",value:function(){}},{key:"getAETest",value:function(){return""}},{key:"getBerL",value:function(){return this._getCookie("aep_usuc_t","ber_l")}},{key:"getZeroOrder",value:function(){return this._getCookie("xman_us_f","zero_order")}},{key:"isZeroOrderUser",value:function(){return"y"===this.getZeroOrder()}},{key:"getAeUps",value:function(){return this._getCookie("aep_usuc_f","ae_u_p_s")}},{key:"setAeUps",value:function(e){return this._setcookie("aep_usuc_f","ae_u_p_s",e)}},{key:"getAeUpsTime",value:function(){return this._getCookie("aep_usuc_f","ups_u_t")}},{key:"setAeUpsTime",value:function(e){return this._setcookie("aep_usuc_f","ups_u_t",e)}},{key:"getReSns",value:function(){return this._getCookie("aep_usuc_f","re_sns")}},{key:"getCsrfToken",value:function(){var e=this._getCookie("acs_usuc_t","x_csrf");return e||(window.__bl&&window.__bl.api?window.__bl.error(new Error("Cookie.getCsrfToken error")):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["error",new Error("Cookie.getCsrfToken error")]))),e}},{key:"getXmanCookieChanged",value:function(){return this._getCookie("xman_us_f","x_c_chg")}},{key:"setXmanCookieChanged",value:function(e){return this._setcookie("xman_us_f","x_c_chg",""+e)}},{key:"getXmanCookieSynced",value:function(){return this._getCookie("xman_us_f","x_c_synced")}},{key:"setXmanCookieSynced",value:function(e){return this._setcookie("xman_us_f","x_c_synced",""+e)}},{key:"getACS_RT",value:function(){return this._getCookie("xman_us_f","acs_rt")}},{key:"getX_AS_I",value:function(){return this._getCookie("xman_us_f","x_as_i")}},{key:"getCNA",value:function(){return a.default.get("cna",{domain:(0,u.getFixedDomainUrl)(),path:"/",raw:!0})||""}},{key:"getAliApacheId",value:function(){return a.default.get("ali_apache_id",{domain:(0,u.getFixedDomainUrl)(),path:"/",raw:!0})||""}},{key:"getAeucid",value:function(){return a.default.get("aeu_cid",{domain:(0,u.getFixedDomainUrl)(),path:"/",raw:!0})||""}}]),e}());window.lib=window.lib||{},window.lib.cookie=c;var p=c;t.default=p},616:function(e,t,r){"use strict";var n=r(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),i=n(r(4)),a=n(r(595)),s=r(596),u=new(function(){function e(){(0,o.default)(this,e),this.keywordsSize=8,this.productsSize=8,this.groups={},this.refresh()}return(0,i.default)(e,[{key:"getKeywords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.groups||!this.groups.keywords)return[];var t=e.limit||0,r=this._sliceArray(this.groups.keywords,t).slice(0);return r}},{key:"getProducts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.groups||!this.groups.product_selloffer)return[];for(var t=e.limit||0,r=this._sliceArray(this.groups.product_selloffer,t),n=[],o=0,i=r.length;o<i;o++){var a=r[o].replace(/^http(s)?:\/\/.*\/(\d+_)?|\.html.*$/gi,"");/^\d+$/.test(a)&&n.push(a)}return n}},{key:"logProduct",value:function(e){if(e&&e.id){var t=this._addItem({array:this.getProducts(),item:e.id,maxSize:this.productsSize}),r=this._buildWholeCookie({keywordArray:this.getKeywords(),productArray:t});a.default.set("aep_history",r,{domain:(0,s.getFixedDomainUrl)(),path:"/",expires:365}),this.refresh()}}},{key:"refresh",value:function(){this.groups=this._parseGroups()}},{key:"_buildWholeCookie",value:function(e){var t=e.keywordArray||[],r=e.productArray||[];return this._buildGroup({group:"keywords",array:t.reverse()})+"\n\n"+this._buildGroup({group:"product_selloffer",array:r.reverse()})}},{key:"_buildGroup",value:function(e){var t=e.group||"",r=e.array||[];return!t||t.length<=0?"":t+"^\n"+t+"\t"+r.join("\t")}},{key:"_addItem",value:function(e){var t=e.array||[],r=e.item||"",n=e.maxSize||"";if(!r||r.length<=0)return t;var o=t.slice(0);return o=o.reverse(),this._appendToArray(r,o),o=o.reverse().splice(0,n)}},{key:"_appendToArray",value:function(e,t){if(Array.isArray(t)){var r=t.indexOf(e);r>=0&&t.splice(r,1),t.push(e)}}},{key:"_sliceArray",value:function(e,t){return t>0?e.splice(0,t):e}},{key:"_parseGroups",value:function(){var e={},t=a.default.get("aep_history",{domain:(0,s.getFixedDomainUrl)(),path:"/"});if(t)for(var r=t.split("\n\n"),n=0,o=r.length;n<o;n++){var i=r[n].split("^\n"),u=i[0],c=i[1],p=this._parseGroupContent(u,c);e[u]=p}return e}},{key:"_parseGroupContent",value:function(e,t){if(!t||0===t.length)return[];var r=t.indexOf(e);r>=0&&(t=t.substring(r+e.length+"\t".length));var n=t.split("\t");return n=n.reverse(),n=this._uniqueArray(n)}},{key:"_uniqueArray",value:function(e){for(var t=e,r=1;r<t.length;r++)t[r]===t[r-1]&&t.splice(r--,1);return t}}]),e}());t.default=u},617:function(e,t,r){"use strict";var n={},o=decodeURIComponent,i=encodeURIComponent;function a(e){return"string"==typeof e}function s(e){return a(e)&&""!==e}function u(e){if(!s(e))throw new TypeError("Cookie name must be a non-empty string")}function c(e){return e}n.get=function(e,t){u(e),t="function"==typeof t?{converter:t}:t||{};var r=function(e,t){var r={};if(a(e)&&e.length>0)for(var n,i,s,u=t?o:c,p=e.split(/;\s/g),l=0,d=p.length;l<d;l++){if((s=p[l].match(/([^=]+)=/i))instanceof Array)try{n=o(s[1]),i=u(p[l].substring(s[1].length+1))}catch(e){}else n=o(p[l]),i="";n&&(r[n]=i)}return r}(document.cookie,!t.raw);return(t.converter||c)(r[e])},n.set=function(e,t,r){u(e);var n=(r=r||{}).expires,o=r.domain,a=r.path;r.raw||(t=i(String(t)));var c=e+"="+t,p=n;return"number"==typeof p&&(p=new Date).setDate(p.getDate()+n),p instanceof Date&&(c+="; expires="+p.toUTCString()),s(o)&&(c+="; domain="+o),s(a)&&(c+="; path="+a),r.secure&&(c+="; secure"),document.cookie=c,c},n.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)};var p=n;t.default=p},618:function(e,t,r){"use strict";t.getFixedDomainUrl=function(){return n};var n="aliexpress.com";[{reg:/aliexpress.ru/,domain:"aliexpress.ru"},{reg:/tmall.ru/,domain:"tmall.ru"}].forEach((function(e){e.reg.test(window.location.host)&&(n=e.domain)}))},619:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function n(e){return"number"!=typeof e||e>3e4||e<0?0:Math.round(e)}function o(e){return n(window.performance&&window.performance.timing?e-window.performance.timing.fetchStart:0)}var i={error:function(e,t){window.__bl&&window.__bl.error?window.__bl.error(e,t):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["error",e,t]))},api:{success:function(e,t,r,n){window.__bl&&window.__bl.api?window.__bl.api(e,!0,t,r,n):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["api",e,!0,t,r,n]))},error:function(e,t,r,n){window.__bl&&window.__bl.api?window.__bl.api(e,!1,t,r,n):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["api",e,!1,t,r,n]))}},report:function(e){try{if(!e)return;if(!("Promise"in window))return;if(!window.performance)return;Object.keys(e).forEach((function(t){var r=e[t];if("number"!=typeof r){if(!r||!r.then)throw new Error("performance package: first argument of function reportPerformance need to be a promise or thenable!");e[t]=r.then((function(e){return o(e)}))}else e[t]=n(r)}));var t={ctti:new Promise((function(e){i.interactiveTimerId=setTimeout((function(){e(o(Date.now()))}),0)})).catch((function(e){throw new Error(e)})),t1:(u=0,new Promise((function(e){if("function"==typeof window.performance.getEntriesByType){var t=performance.getEntriesByType("paint");if(t)for(var r=0,o=t.length;r<o;r++){var i=t[r];"first-paint"===i.name&&(u=i.startTime)}}else if(window.chrome&&window.chrome.loadTimes){var a=window.chrome.loadTimes();u=1e3*(a.firstPaintTime-a.startLoadTime)}else"number"==typeof window.performance.timing.msFirstPaint&&(u=window.performance.timing.msFirstPaint-window.performance.timing.navigationStart);e(n(u))})).catch((function(e){throw new Error(e)})))},r=Object.assign(t,e),a=[],s=[];Object.keys(r).forEach((function(e){a.push(e),s.push(r[e])})),Promise.all(s).then((function(e){var t={};e.forEach((function(e,r){t[a[r]]=e}));var r=["performance",t];window.__bl&&window.__bl.performance?window.__bl.performance(t):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(r))})).catch((function(e){throw console.error(e),new Error(e)}))}catch(e){throw new Error(e)}var u},gc:function(){clearTimeout(this.interactiveTimerId)}},a=i;t.default=a},620:function(e,t){"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(e,t){function r(){var e={},t=new p((function(t,r){e.resolve=t,e.reject=r}));return e.promise=t,e}function n(e,t){for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e}function o(e){var t=[];for(var r in e)e[r]&&t.push(r+"="+encodeURIComponent(e[r]));return t.join("&")}function i(e){return"[object Object]"=={}.toString.call(e)}function a(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function s(e,t,r){var n=new Date;n.setTime(n.getTime()-864e5);document.cookie=e+"=;path=/;domain=."+t+";expires="+n.toGMTString(),document.cookie=e+"=;path=/;domain=."+r+"."+t+";expires="+n.toGMTString()}function u(e,t){for(var r=e.split("."),n=t.split("."),o=0;3>o;o++){var i=Number(r[o]),a=Number(n[o]);if(i>a)return 1;if(a>i)return-1;if(!isNaN(i)&&isNaN(a))return 1;if(isNaN(i)&&!isNaN(a))return-1}return 0}function c(e){this.id=""+(new Date).getTime()+ ++v,this.params=n(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=f.slice(0)}var p=e.Promise,l=(p||{resolve:function(){}}).resolve();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var d={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},f=[],m={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var t=e.location.hostname;if(!t){var r=e.parent.location.hostname;r&&~r.indexOf("zebra.alibaba-inc.com")&&(t=r)}var n=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),o=t.match(n)||[],i=o[2]||"taobao.com",a=o[1]||"m";"taobao.net"!==i||"x"!==a&&"waptest"!==a&&"daily"!==a?"taobao.net"===i&&"demo"===a?a="demo":"alibaba-inc.com"===i&&"zebra"===a?a="zebra":"waptest"!==a&&"wapa"!==a&&"m"!==a&&(a="m"):a="waptest";var s="h5api";"taobao.net"===i&&"waptest"===a&&(s="acs"),d.mainDomain=i,d.subDomain=a,d.prefix=s})(),function(){var t=e.navigator.userAgent,r=t.match(/WindVane[\/\s]([\d\.\_]+)/);r&&(d.WindVaneVersion=r[1]);var n=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);n&&(d.AliAppName=n[1],d.AliAppVersion=n[2]);var o=t.match(/AMapClient\/([\d\.\_]+)/i);o&&(d.AliAppName="AMAP",d.AliAppVersion=o[1])}();var h=/[Android|Adr]/.test(e.navigator.userAgent),g="AP"===d.AliAppName&&u(d.AliAppVersion,"10.1.2")>=0||"KB"===d.AliAppName&&u(d.AliAppVersion,"7.1.62")>=0||h&&"AMAP"===d.AliAppName&&u(d.AliAppVersion,"1.0.1")>=0,v=0;c.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},c.prototype.__processRequestMethod=function(e){var t=this.params,r=this.options;"get"===t.type&&"jsonp"===t.dataType?r.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?r.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?r.getJSON=!0:"post"===t.type&&(r.postJSON=!0),e()},c.prototype.__processRequestType=function(r){var n=this,o=this.params,a=this.options;if(!0===d.H5Request&&(a.H5Request=!0),!0===d.WindVaneRequest&&(a.WindVaneRequest=!0),!1===a.H5Request&&!0===a.WindVaneRequest){if(!g&&(!t.windvane||parseFloat(a.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");if(g&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::支付宝通道未准备好，支付宝请见 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===a.H5Request)a.WindVaneRequest=!1;else if(void 0===a.WindVaneRequest&&void 0===a.H5Request){if(t.windvane&&parseFloat(a.WindVaneVersion)>=5.4?a.WindVaneRequest=!0:a.H5Request=!0,g){if(a.WindVaneRequest=a.H5Request=void 0,e.AlipayJSBridge)if(i(o.data))a.WindVaneRequest=!0;else try{i(JSON.parse(o.data))?a.WindVaneRequest=!0:a.H5Request=!0}catch(e){a.H5Request=!0}else a.H5Request=!0;"AMAP"!==d.AliAppName||o.useNebulaJSbridgeWithAMAP||(a.WindVaneRequest=a.H5Request=void 0,a.H5Request=!0)}window.self!==window.top&&(a.H5Request=!0)}var s=e.navigator.userAgent.toLowerCase();return s.indexOf("youku")>-1&&a.mainDomain.indexOf("youku.com")<0&&(a.WindVaneRequest=!1,a.H5Request=!0),a.mainDomain.indexOf("youku.com")>-1&&s.indexOf("youku")<0&&(a.WindVaneRequest=!1,a.H5Request=!0),r?r().then((function(){var e=a.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===a.WindVaneRequest&&g&&a.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!g||!isNaN(a.retJson.error)||-1!==a.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return g&&i(o.data)&&(o.data=JSON.stringify(o.data)),d.H5Request=!0,n.__sequence([n.__processRequestType,n.__processToken,n.__processRequestUrl,n.middlewares,n.__processRequest]);void 0===a.retJson.api&&void 0===a.retJson.v&&(a.retJson.api=o.api,a.retJson.v=o.v,a.retJson.ret=[a.retJson.error+"::"+a.retJson.errorMessage],a.retJson.data={})}})):void 0};var y="_m_h5_c",_="_m_h5_tk";c.prototype.__getTokenFromAlipay=function(){var t=r(),n=this.options,o=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===n.useAlipayJSBridge&&!o&&g&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",(function(e){e&&e.token&&(n.token=e.token),t.resolve()}),(function(){t.resolve()})):t.resolve(),t.promise},c.prototype.__getTokenFromCookie=function(){var e=this.options;return e.CDR&&a(y)?e.token=a(y).split(";")[0]:e.token=e.token||a(_),e.token&&(e.token=e.token.split("_")[0]),p.resolve()},c.prototype.__waitWKWebViewCookie=function(t){var r=this.options;r.waitWKWebViewCookieFn&&r.H5Request&&e.webkit&&e.webkit.messageHandlers?r.waitWKWebViewCookieFn(t):t()},c.prototype.__processToken=function(e){var t=this,r=this.options;return this.params,r.token&&delete r.token,!0!==r.WindVaneRequest?l.then((function(){return t.__getTokenFromAlipay()})).then((function(){return t.__getTokenFromCookie()})).then(e).then((function(){var e=r.retJson,n=e.ret;if(n instanceof Array&&(n=n.join(",")),n.indexOf("TOKEN_EMPTY")>-1||(!0===r.CDR||!0===r.syncCookieMode)&&n.indexOf("ILLEGAL_ACCESS")>-1||n.indexOf("TOKEN_EXOIRED")>-1){if(r.maxRetryTimes=r.maxRetryTimes||5,r.failTimes=r.failTimes||0,r.H5Request&&++r.failTimes<r.maxRetryTimes){var o=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];if(!0===r.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id)if(t.constructor.__cookieProcessor){o=[function(e){var r=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(r).catch(r):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]}else t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id;return t.__sequence(o)}r.maxRetryTimes>0&&(s(y,r.pageDomain,"*"),s(_,r.mainDomain,r.subDomain),s("_m_h5_tk_enc",r.mainDomain,r.subDomain)),e.retType=m.TOKEN_EXPIRED}})):void e()},c.prototype.__processRequestUrl=function(t){var r=this.params,n=this.options;if(n.hostSetting&&n.hostSetting[e.location.hostname]){var o=n.hostSetting[e.location.hostname];o.prefix&&(n.prefix=o.prefix),o.subDomain&&(n.subDomain=o.subDomain),o.mainDomain&&(n.mainDomain=o.mainDomain)}if(!0===n.H5Request){var i="//"+(n.prefix?n.prefix+".":"")+(n.subDomain?n.subDomain+".":"")+n.mainDomain+"/h5/"+r.api.toLowerCase()+"/"+r.v.toLowerCase()+"/",a=r.appKey||("waptest"===n.subDomain?"4272":"12574478"),s=(new Date).getTime(),u=function(e){function t(e,t){return e<<t|e>>>32-t}function r(e,t){var r,n,o,i,a;return o=2147483648&e,i=2147483648&t,a=(1073741823&e)+(1073741823&t),(r=1073741824&e)&(n=1073741824&t)?2147483648^a^o^i:r|n?1073741824&a?3221225472^a^o^i:1073741824^a^o^i:a^o^i}function n(e,n,o,i,a,s,u){return e=r(e,r(r(function(e,t,r){return e&t|~e&r}(n,o,i),a),u)),r(t(e,s),n)}function o(e,n,o,i,a,s,u){return e=r(e,r(r(function(e,t,r){return e&r|t&~r}(n,o,i),a),u)),r(t(e,s),n)}function i(e,n,o,i,a,s,u){return e=r(e,r(r(function(e,t,r){return e^t^r}(n,o,i),a),u)),r(t(e,s),n)}function a(e,n,o,i,a,s,u){return e=r(e,r(r(function(e,t,r){return t^(e|~r)}(n,o,i),a),u)),r(t(e,s),n)}function s(e){var t,r="",n="";for(t=0;3>=t;t++)r+=(n="0"+(e>>>8*t&255).toString(16)).substr(n.length-2,2);return r}var u,c,p,l,d,f,m,h,g,v;for(v=function(e){for(var t,r=e.length,n=r+8,o=16*((n-n%64)/64+1),i=new Array(o-1),a=0,s=0;r>s;)a=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<a,s++;return a=s%4*8,i[t=(s-s%4)/4]=i[t]|128<<a,i[o-2]=r<<3,i[o-1]=r>>>29,i}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);128>n?t+=String.fromCharCode(n):n>127&&2048>n?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}(e)),f=1732584193,m=4023233417,h=2562383102,g=271733878,u=0;u<v.length;u+=16)c=f,p=m,l=h,d=g,f=n(f,m,h,g,v[u+0],7,3614090360),g=n(g,f,m,h,v[u+1],12,3905402710),h=n(h,g,f,m,v[u+2],17,606105819),m=n(m,h,g,f,v[u+3],22,3250441966),f=n(f,m,h,g,v[u+4],7,4118548399),g=n(g,f,m,h,v[u+5],12,1200080426),h=n(h,g,f,m,v[u+6],17,2821735955),m=n(m,h,g,f,v[u+7],22,4249261313),f=n(f,m,h,g,v[u+8],7,1770035416),g=n(g,f,m,h,v[u+9],12,2336552879),h=n(h,g,f,m,v[u+10],17,4294925233),m=n(m,h,g,f,v[u+11],22,2304563134),f=n(f,m,h,g,v[u+12],7,1804603682),g=n(g,f,m,h,v[u+13],12,4254626195),h=n(h,g,f,m,v[u+14],17,2792965006),f=o(f,m=n(m,h,g,f,v[u+15],22,1236535329),h,g,v[u+1],5,4129170786),g=o(g,f,m,h,v[u+6],9,3225465664),h=o(h,g,f,m,v[u+11],14,643717713),m=o(m,h,g,f,v[u+0],20,3921069994),f=o(f,m,h,g,v[u+5],5,3593408605),g=o(g,f,m,h,v[u+10],9,38016083),h=o(h,g,f,m,v[u+15],14,3634488961),m=o(m,h,g,f,v[u+4],20,3889429448),f=o(f,m,h,g,v[u+9],5,568446438),g=o(g,f,m,h,v[u+14],9,3275163606),h=o(h,g,f,m,v[u+3],14,4107603335),m=o(m,h,g,f,v[u+8],20,1163531501),f=o(f,m,h,g,v[u+13],5,2850285829),g=o(g,f,m,h,v[u+2],9,4243563512),h=o(h,g,f,m,v[u+7],14,1735328473),f=i(f,m=o(m,h,g,f,v[u+12],20,2368359562),h,g,v[u+5],4,4294588738),g=i(g,f,m,h,v[u+8],11,2272392833),h=i(h,g,f,m,v[u+11],16,1839030562),m=i(m,h,g,f,v[u+14],23,4259657740),f=i(f,m,h,g,v[u+1],4,2763975236),g=i(g,f,m,h,v[u+4],11,1272893353),h=i(h,g,f,m,v[u+7],16,4139469664),m=i(m,h,g,f,v[u+10],23,3200236656),f=i(f,m,h,g,v[u+13],4,681279174),g=i(g,f,m,h,v[u+0],11,3936430074),h=i(h,g,f,m,v[u+3],16,3572445317),m=i(m,h,g,f,v[u+6],23,76029189),f=i(f,m,h,g,v[u+9],4,3654602809),g=i(g,f,m,h,v[u+12],11,3873151461),h=i(h,g,f,m,v[u+15],16,530742520),f=a(f,m=i(m,h,g,f,v[u+2],23,3299628645),h,g,v[u+0],6,4096336452),g=a(g,f,m,h,v[u+7],10,1126891415),h=a(h,g,f,m,v[u+14],15,2878612391),m=a(m,h,g,f,v[u+5],21,4237533241),f=a(f,m,h,g,v[u+12],6,1700485571),g=a(g,f,m,h,v[u+3],10,2399980690),h=a(h,g,f,m,v[u+10],15,4293915773),m=a(m,h,g,f,v[u+1],21,2240044497),f=a(f,m,h,g,v[u+8],6,1873313359),g=a(g,f,m,h,v[u+15],10,4264355552),h=a(h,g,f,m,v[u+6],15,2734768916),m=a(m,h,g,f,v[u+13],21,1309151649),f=a(f,m,h,g,v[u+4],6,4149444226),g=a(g,f,m,h,v[u+11],10,3174756917),h=a(h,g,f,m,v[u+2],15,718787259),m=a(m,h,g,f,v[u+9],21,3951481745),f=r(f,c),m=r(m,p),h=r(h,l),g=r(g,d);return(s(f)+s(m)+s(h)+s(g)).toLowerCase()}(n.token+"&"+s+"&"+a+"&"+r.data),c={jsv:"2.6.1",appKey:a,t:s,sign:u},p={data:r.data,ua:r.ua};Object.keys(r).forEach((function(e){void 0===c[e]&&void 0===p[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(c[e]=r[e])})),r.ext_querys&&Object.keys(r.ext_querys).forEach((function(e){c[e]=r.ext_querys[e]})),n.getJSONP?c.type="jsonp":n.getOriginalJSONP?c.type="originaljsonp":(n.getJSON||n.postJSON)&&(c.type="originaljson"),void 0!==r.valueType&&("original"===r.valueType?n.getJSONP||n.getOriginalJSONP?c.type="originaljsonp":(n.getJSON||n.postJSON)&&(c.type="originaljson"):"string"===r.valueType&&(n.getJSONP||n.getOriginalJSONP?c.type="jsonp":(n.getJSON||n.postJSON)&&(c.type="json"))),!0===n.useJsonpResultType&&"originaljson"===c.type&&delete c.type,n.dangerouslySetProtocol&&(i=n.dangerouslySetProtocol+":"+i),n.querystring=c,n.postdata=p,n.path=i}t()},c.prototype.__processUnitPrefix=function(e){e()};var w=0;c.prototype.__requestJSONP=function(e){function t(e){if(c&&clearTimeout(c),p.parentNode&&p.parentNode.removeChild(p),"TIMEOUT"===e)window[u]=function(){window[u]=void 0;try{delete window[u]}catch(e){}};else{window[u]=void 0;try{delete window[u]}catch(e){}}}var n=r(),i=this.params,a=this.options,s=i.timeout||2e4,u="mtopjsonp"+(i.jsonpIncPrefix||"")+ ++w,c=setTimeout((function(){e(a.timeoutErrMsg||"TIMEOUT::接口超时"),t("TIMEOUT")}),s);a.querystring.callback=u;var p=document.createElement("script");return p.src=a.path+"?"+o(a.querystring)+"&"+o(a.postdata),p.async=!0,p.onerror=function(){t("ABORT"),e(a.abortErrMsg||"ABORT::接口异常退出")},window[u]=function(){a.results=Array.prototype.slice.call(arguments),t(),n.resolve()},function(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}(p),n.promise},c.prototype.__requestJSON=function(t){function n(e){l&&clearTimeout(l),"TIMEOUT"===e&&c.abort()}var i=r(),s=this.params,u=this.options,c=new e.XMLHttpRequest,p=s.timeout||2e4,l=setTimeout((function(){t(u.timeoutErrMsg||"TIMEOUT::接口超时"),n("TIMEOUT")}),p);u.CDR&&a(y)&&(u.querystring.c=decodeURIComponent(a(y))),c.onreadystatechange=function(){if(4==c.readyState){var e,r,o=c.status;if(o>=200&&300>o||304==o){n(),e=c.responseText,r=c.getAllResponseHeaders()||"";try{(e=/^\s*$/.test(e)?{}:JSON.parse(e)).responseHeaders=r,u.results=[e],i.resolve()}catch(e){t("PARSE_JSON_ERROR::解析JSON失败")}}else n("ABORT"),t(u.abortErrMsg||"ABORT::接口异常退出")}};var d,f,m=u.path+"?"+o(u.querystring);u.getJSON?(d="GET",m+="&"+o(u.postdata)):u.postJSON&&(d="POST",f=o(u.postdata)),c.open(d,m,!0),c.withCredentials=!0,c.setRequestHeader("Accept","application/json"),c.setRequestHeader("Content-type","application/x-www-form-urlencoded");var h=s.ext_headers||s.headers;if(h)for(var g in h)c.setRequestHeader(g,h[g]);return c.send(f),i.promise},c.prototype.__requestWindVane=function(e){function n(e){a.results=[e],o.resolve()}var o=r(),i=this.params,a=this.options,s=i.data,u=i.api,c=i.v,p=a.postJSON?1:0,l=a.getJSON||a.postJSON||a.getOriginalJSONP?"originaljson":"";void 0!==i.valueType&&("original"===i.valueType?l="originaljson":"string"===i.valueType&&(l="")),!0===a.useJsonpResultType&&(l="");var d,f,m="https"===location.protocol?1:0,h=i.isSec||0,g=i.sessionOption||"AutoLoginOnly",v=i.ecode||0,y=i.ext_headers||{},_=i.ext_querys||{};d=2*(f=void 0!==i.timer?parseInt(i.timer):void 0!==i.timeout?parseInt(i.timeout):2e4),!0===i.needLogin&&void 0===i.sessionOption&&(g="AutoLoginAndManualLogin"),void 0!==i.secType&&void 0===i.isSec&&(h=i.secType);var w={api:u,v:c,post:String(p),type:l,isHttps:String(m),ecode:String(v),isSec:String(h),param:JSON.parse(s),timer:f,sessionOption:g,ext_headers:y,ext_querys:_};i.ttid&&!0===a.dangerouslySetWVTtid&&(w.ttid=i.ttid),Object.assign&&i.dangerouslySetWindvaneParams&&Object.assign(w,i.dangerouslySetWindvaneParams);var b="MtopWVPlugin";return"string"==typeof i.customWindVaneClassName&&(b=i.customWindVaneClassName),t.windvane.call(b,"send",w,n,n,d),o.promise},c.prototype.__requestAlipay=function(t){var n=r(),o=this.params,a=this.options,s={apiName:o.api,apiVersion:o.v,needEcodeSign:"1"===String(o.ecode),headers:o.ext_headers||{},usePost:!!a.postJSON};i(o.data)||(o.data=JSON.parse(o.data)),s.data=o.data,o.ttid&&!0===a.dangerouslySetWVTtid&&(s.ttid=o.ttid),(a.getJSON||a.postJSON||a.getOriginalJSONP)&&(s.type="originaljson"),void 0!==o.valueType&&("original"===o.valueType?s.type="originaljson":"string"===o.valueType&&delete s.type),!0===a.useJsonpResultType&&delete s.type,Object.assign&&o.dangerouslySetAlipayParams&&Object.assign(s,o.dangerouslySetAlipayParams);var u="mtop";return"string"==typeof o.customAlipayJSBridgeApi&&(u=o.customAlipayJSBridgeApi),e.AlipayJSBridge.call(u,s,(function(e){a.results=[e],n.resolve()})),n.promise},c.prototype.__processRequest=function(e,t){var r=this;return l.then((function(){var e=r.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return r.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return r.__requestJSON(t);if(e.WindVaneRequest)return g?r.__requestAlipay(t):r.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::错误的请求类型")})).then(e).then((function(){var e=r.options,t=(r.params,e.results[0]),n=t&&t.ret||[];t.ret=n,n instanceof Array&&(n=n.join(","));var o=t.c;e.CDR&&o&&function(e,t,r){var n=r||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(n.domain?";domain="+n.domain:"")+(n.path?";path="+n.path:"")+(n.secure?";secure":"")+(n.httponly?";HttpOnly":"")+(n.sameSite?";Samesite="+n.sameSite:"")}(y,o,{domain:e.pageDomain,path:"/",secure:e.secure,sameSite:e.sameSite}),n.indexOf("SUCCESS")>-1?t.retType=m.SUCCESS:t.retType=m.ERROR,e.retJson=t}))},c.prototype.__sequence=function(e){var t=this,n=[],o=[];e.forEach((function e(i){if(i instanceof Array)i.forEach(e);else{var a,s=r(),u=r();n.push((function(){return s=r(),(a=i.call(t,(function(e){return s.resolve(e),u.promise}),(function(e){return s.reject(e),u.promise})))&&(a=a.catch((function(e){s.reject(e)}))),s.promise})),o.push((function(e){return u.resolve(e),a}))}}));for(var i,a=l;i=n.shift();)a=a.then(i);for(;i=o.pop();)a=a.then(i);return a};var b=function(e){e()},x=function(e){e()};c.prototype.request=function(r){var o=this;if(this.options=n(r||{},d),!p){var i="当前浏览器不支持Promise，请在windows对象上挂载Promise对象";throw t.mtop={ERROR:i},new Error(i)}var a=p.resolve([b,x]).then((function(e){var t=e[0],r=e[1];return o.__sequence([t,o.__processRequestMethod,o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest,r])})).then((function(){var e=o.options.retJson;return e.retType!==m.SUCCESS?p.reject(e):o.options.successCallback?void o.options.successCallback(e):p.resolve(e)})).catch((function(e){var r;return e instanceof Error?(console.error(e.stack),r={ret:[e.message],stack:[e.stack],retJson:m.ERROR}):r="string"==typeof e?{ret:[e],retJson:m.ERROR}:void 0!==e?e:o.options.retJson,t.mtop.errorListener&&t.mtop.errorListener({api:o.params.api,data:o.params.data,v:o.params.v,retJson:r}),o.options.failureCallback?void o.options.failureCallback(r):p.reject(r)}));return this.__processRequestType(),o.options.H5Request&&(o.constructor.__firstProcessor||(o.constructor.__firstProcessor=a),b=function(e){o.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(r.pageDomain=r.pageDomain||function(e){try{return".com"!==e.substring(e.lastIndexOf("."))?(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join("."):e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(e.location.hostname),r.mainDomain!==r.pageDomain&&(r.maxRetryTimes=4,r.CDR=!0)),this.__requestProcessor=a,a},t.mtop=function(e){return new c(e)},t.mtop.request=function(e,t,r){var n={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:r||t};return new c(e).request(n)},t.mtop.H5Request=function(e,t,r){var n={H5Request:!0,successCallback:t,failureCallback:r||t};return new c(e).request(n)},t.mtop.middlewares=f,t.mtop.config=d,t.mtop.RESPONSE_TYPE=m,t.mtop.CLASS=c}(window,window.lib||(window.lib={})),function(e,t){function r(e){return e.preventDefault(),!1}function n(t,n){var o=this,i=e.dpr||1,a=document.createElement("div"),s=document.documentElement.getBoundingClientRect(),u=Math.max(s.width,window.innerWidth)/i,c=Math.max(s.height,window.innerHeight)/i;a.style.cssText=["-webkit-transform:scale("+i+") translateZ(0)","-ms-transform:scale("+i+") translateZ(0)","transform:scale("+i+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+u+"px","height:"+c+"px","z-index:2147483647","position:"+(u>800?"fixed":"absolute"),"left:0","top:0px","background:"+(u>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var p=document.createElement("div");p.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),p.innerText=t;var l=navigator.userAgent.match(/.*(iPhone|iPad|Android|ios|SymbianOS|Windows Phone).*/i),d=document.createElement("img");d.style.cssText=["display:block","position:absolute","margin-top:15px","right:0","top:0","height:15px","line-height:52px","padding:0 20px","color:#999"].join(";"),d.src="https://gw.alicdn.com/tfs/TB1QZN.CYj1gK0jSZFuXXcrHpXa-200-200.png";var f=document.createElement("iframe");f.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),l?(p.appendChild(d),a.appendChild(p)):(d.style.cssText=["position:absolute","width:15px","height:15px","top:102px","left:"+(u/2-185+390)+"px","cursor: pointer","border:0","z-index:1","overflow:hidden"].join(";"),a.appendChild(d),f.style.cssText=["position:absolute","top:92px","left:"+(u/2-185)+"px","width:420px","height:320px","border:0","background:#FFF","overflow:hidden"].join(";")),a.appendChild(f),a.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(a),f.src=n,d.addEventListener("click",(function(){o.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),a.dispatchEvent(e)}),!1),this.addEventListener=function(){a.addEventListener.apply(a,arguments)},this.removeEventListener=function(){a.removeEventListener.apply(a,arguments)},this.show=function(){document.addEventListener("touchmove",r,!1),a.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",r),window.scrollTo(0,-s.top),a.parentNode&&a.parentNode.removeChild(a)}}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop 初始化失败！");var o=e.Promise,i=t.mtop.CLASS,a=t.mtop.config,s=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push((function(e){var r=this,n=this.options,o=this.params;return e().then((function(){var e=n.retJson,i=e.ret,u=navigator.userAgent.toLowerCase(),c=u.indexOf("safari")>-1&&u.indexOf("chrome")<0&&u.indexOf("qqbrowser")<0;if(i instanceof Array&&(i=i.join(",")),(i.indexOf("SESSION_EXPIRED")>-1||i.indexOf("SID_INVALID")>-1||i.indexOf("AUTH_REJECT")>-1||i.indexOf("NEED_LOGIN")>-1)&&(e.retType=s.SESSION_EXPIRED,!n.WindVaneRequest&&(!0===a.LoginRequest||!0===n.LoginRequest||!0===o.needLogin))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::缺少lib.login");if(!0!==n.safariGoLogin||!c||"taobao.com"===n.pageDomain)return t.login.goLoginAsync().then((function(e){return r.__sequence([r.__processToken,r.__processRequestUrl,r.__processUnitPrefix,r.middlewares,r.__processRequest])})).catch((function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::用户取消登录"):new Error("LOGIN_FAILURE::用户登录失败")}));t.login.goLogin()}}))})),t.mtop.loginRequest=function(e,t,r){var n={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:r||t};return new i(e).request(n)},t.mtop.antiFloodRequest=function(e,t,r){var n={AntiFlood:!0,successCallback:t,failureCallback:r||t};return new i(e).request(n)},t.mtop.middlewares.push((function(e){var t=this.options;return this.params,!0!==t.H5Request||!0!==a.AntiFlood&&!0!==t.AntiFlood?void e():e().then((function(){var e=t.retJson,r=e.ret;r instanceof Array&&(r=r.join(",")),r.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)}))})),t.mtop.antiCreepRequest=function(e,t,r){var n={AntiCreep:!0,successCallback:t,failureCallback:r||t};return new i(e).request(n)},t.mtop.middlewares.push((function(t){var r=this,i=this.options,s=this.params;return!1!==i.AntiCreep&&(i.AntiCreep=!0),!0!==s.forceAntiCreep&&!0!==i.H5Request||!0!==a.AntiCreep&&!0!==i.AntiCreep?void t():t().then((function(){var t=i.retJson,a=t.ret;if(a instanceof Array&&(a=a.join(",")),(a.indexOf("RGV587_ERROR::SM")>-1||a.indexOf("ASSIST_FLAG")>-1)&&t.data.url){var u="_m_h5_smt",c=function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}(u),p=!1;if(!0===i.saveAntiCreepToken&&c)for(var l in c=JSON.parse(c))s[l]&&(p=!0);if(!0===i.saveAntiCreepToken&&c&&!p){for(var l in c)s[l]=c[l];return r.__sequence([r.__processToken,r.__processRequestUrl,r.__processUnitPrefix,r.middlewares,r.__processRequest])}return new o((function(o,a){function c(){l.removeEventListener("close",c),e.removeEventListener("message",p),a("USER_INPUT_CANCEL::用户取消输入")}function p(t){var n;try{n=JSON.parse(t.data)||{}}catch(e){}if(n&&"child"===n.type){var d;l.removeEventListener("close",c),e.removeEventListener("message",p),l.hide();try{for(var f in"string"==typeof(d=JSON.parse(decodeURIComponent(n.content)))&&(d=JSON.parse(d)),d)s[f]=d[f];!0===i.saveAntiCreepToken?(document.cookie=u+"="+JSON.stringify(d)+";",e.location.reload()):r.__sequence([r.__processToken,r.__processRequestUrl,r.__processUnitPrefix,r.middlewares,r.__processRequest]).then(o)}catch(e){a("USER_INPUT_FAILURE::用户输入失败")}}}var l=new n("",t.data.url);l.addEventListener("close",c,!1),e.addEventListener("message",p,!1),l.show()}))}}))}))}(window,window.lib||(window.lib={})),e.exports=window.lib.mtop},756:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"getAffCookieData",(function(){return y})),r.d(n,"parseUrl",(function(){return _})),r.d(n,"getParameterByName",(function(){return w})),r.d(n,"isRuDomain",(function(){return b})),r.d(n,"isFunction",(function(){return x})),r.d(n,"serializeParams",(function(){return k})),r.d(n,"addUrlParams",(function(){return S})),r.d(n,"createRedirectUrl",(function(){return C})),r.d(n,"createCallAppUrl",(function(){return R})),r.d(n,"createAppStoreUrl",(function(){return O})),r.d(n,"jsonParse",(function(){return E})),r.d(n,"getPageCode",(function(){return A})),r.d(n,"getPageSpm",(function(){return T})),r.d(n,"isDebug",(function(){return I})),r.d(n,"isSmbLog",(function(){return P})),r.d(n,"getDay",(function(){return N})),r.d(n,"getProductId",(function(){return q})),r.d(n,"getDomain",(function(){return L})),r.d(n,"getDefaultTargetUrl",(function(){return U})),r.d(n,"isAndroid",(function(){return D})),r.d(n,"removeSmbUrlKey",(function(){return F})),r.d(n,"SCHEME_MAP",(function(){return j})),r.d(n,"fixCallUrlParams",(function(){return J}));var o={};r.r(o),r.d(o,"sendPoint",(function(){return H}));var i=r(587),a=r.n(i),s=r(588),u=r.n(s),c=r(594),p=r.n(c),l=r(589),d=r.n(l),f=r(38),m=r.n(f),h=r(614),g=r(615),v=r.n(g);function y(){return{aeuCid:v.a.getAeucid(),browserId:v.a.getACS_RT(),lang:v.a.getLocale()||"",shipToCountry:v.a.getRegion()||"",currency:v.a.getCurrency()||"",accountId:v.a.getMemberSeq()||""}}function _(e){var t={},r=e.match(/\?[^#]*/);return r&&1!==r[0].length?(r[0].slice(1).split("&").forEach((function(e){r=e.split("="),t[r[0]]=decodeURIComponent(r[1]||"")})),t):t}function w(e,t){t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}function b(){return/aliexpress\.ru/.test(window.location.host)}function x(e){return"function"===(typeof e).toLowerCase()}function k(e){return void 0===e&&(e={}),Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function S(e,t){return void 0===e&&(e=""),void 0===t&&(t={}),e.indexOf("?")>-1?e+"&"+k(t):e+"?"+k(t)}function C(e,t){return void 0===e&&(e=""),void 0===t&&(t={}),e?S(e,{fromPageCode:t.pageCode,m_page_id:t.pageId||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",isFromSmb:!0,abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""}):""}function R(e,t){if(void 0===e&&(e=""),void 0===t&&(t={}),!e)return"";var r=t.cookieInfo,n=void 0===r?{}:r,o=y(),i={};o.aeuCid&&(i.aff_trace_key=t.aeuCid||o.aeuCid||"",i.aff_platform=t.aff_platform||"msite",i.browser_id=t.browserId||o.browserId||"");var a=t.accountId||o.accountId||"";return a&&(i.accountId=a),S(e,m()({fromPageCode:t.pageCode,m_page_id:t.pageId||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""},i,n))}function O(e,t){if(void 0===e&&(e=""),void 0===t&&(t={}),!e)return"";var r=t.cookieInfo,n=void 0===r?{}:r;return S(e,m()({m_page_id:t.pageId,fromPageCode:t.pageCode||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""},n))}function E(e){void 0===e&&(e="");var t="";try{t=JSON.parse(e)||{}}catch(e){t=""}return t}function A(){return(""+document.querySelector("body").getAttribute("data-spm")||"").trim()}var T=function(){var e="",t="";try{var r=document.querySelector('meta[name="data-spm"]');e=r?r.getAttribute("content"):"a2g0n",t=document.querySelector("body").getAttribute("data-spm")||"unknow"}catch(r){e="",t=""}var n=[e,t].join(".");return function(){return n}}(),I=/true/.test(w("isSmbDebug")),P=/true/.test(w("isSmbLog"));function N(e){void 0===e&&(e=0);var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setDate(t.getDate()+e),+t}function q(e){void 0===e&&(e="");return((e.split("?")[0]||"").match(/aliexpress\.(com|ru)\/(item|i)\/(.*)\.htm(l?)/)||[])[3]||""}function L(){return b()?"m.aliexpress.ru":"m.aliexpress.com"}function U(){return"//"+L()+"/download-landing.html"}function D(){var e=window.navigator.userAgent;return e.indexOf("Android")>-1||e.indexOf("Linux")>-1}function F(e){void 0===e&&(e={});var t={};for(var r in e)"cancleSmbFatigueCrtl,isSmbDebug,isSMBLog,isSmbAutoCall,needSmbRedirect,smbTargetUrl,smbCallAppScheme,isSmbShow,needSmbHouyi,smbThemes,isSmbActive,needSmbAutoCallRedirect".indexOf(r)>-1||(t[r]=e[r]);return t}var j={HOME:"aliexpress://home",DETAIL:"aliexpress://product/detail",STORE:"aliexpress://store/home",LOGIN:"aliexpress://member/signin",ACCOUNT:"aliexpress://account",SHOPCART:"aliexpress://cart",PROFILE:"aliexpress://profile",WISHLIST:"aliexpress://wishlist",WISHSTORELIST:"aliexpress://wishstorelist",SEARCHLIST:"aliexpress://search/list",CATEGORYLIST:"aliexpress://native/goto/category",GOTO:"aliexpress://goto"};function J(e){void 0===e&&(e="");var t=e.trim(),r=_(e),n=window.location.href,o=F(_(n||"")||{});if(t.indexOf(j.DETAIL)>-1){var i=r.productId?r.productId:q(n),a=m()({},r,{productId:i});return["gps-id","pvid","scm","scm-url","scm_id"].forEach((function(e){o[e]&&(a[e]=o[e])})),t=S(j.DETAIL,a)}if(t.indexOf(j.STORE)>-1){if(D()){var s={url:encodeURIComponent(n)};t=S(j.GOTO,s)}else{var u=m()({},r,{sellerAdminSeq:r.sellerId||o.sellerId||"",shopId:r.shopId||o.sellerId||""});t=S(j.STORE,u)}return t}return t.indexOf(j.GOTO)>-1?r.url?t:t=S(t,m()({},r,{url:encodeURIComponent(n)})):t}function M(e){try{var t=m()({st_page_id:window.dmtrack_pageid||""},e.params),r=k(t);P&&console.log("埋点：","path:"+e.path+", event:"+e.event+", 参数：",t),window.goldlog.record(e.path,e.event,r,"GET")}catch(e){}}function H(e,t){void 0===e&&(e="click"),void 0===t&&(t={}),"exposure"===e?function(e){M({path:"/ae.pc_ctr.statweb_ae_ctr",event:"EXP",params:e})}(t):"click"===e&&function(e){M({path:"/ae.pc_click.statweb_ae_click",event:"CLK",params:e})}(t)}var $=h.version,W=window.location.host,V=function(){function e(){var e=this;this.execCallApp=function(t){void 0===t&&(t={}),e.init(t);var r=e.options;e.exposurePoint();setTimeout((function(){e.autoRedirectStart=+new Date,window.location.href=r.callAppUrl}),0);var n=D()?3500:3e3;e.redirectTimer=setTimeout((function(){e.autoRedirectEnd=+new Date;var t=m()({cost_t:e.autoRedirectEnd-e.autoRedirectStart,has_app:!1,redirectUrl:encodeURIComponent(r.redirectUrl),callAppUrl:encodeURIComponent(r.callAppUrl)},e.getCommonPointParams());r.sendPoint&&H("click",t),x(r.callAppCallback)&&r.callAppCallback(!1,t,r),r.needRedirect&&(window.location.href=r.redirectUrl),e.clearRedirectField()}),n),e.hasRedirectTimer=!0},this.bindEvent(),this.hasExposure=!1}var t=e.prototype;return t.init=function(e){void 0===e&&(e={}),this.version=$,this.hasBindEvent=!1,this.redirectTimer=null,this.hasRedirectTimer=!1,this.isAutoCallRedirect=!1,this.autoRedirectStart=null,this.autoRedirectEnd=null;var t=Object.assign({pageCode:A(),callAppUrl:"aliexpress://home",targetUrl:"",needRedirect:!0,callAppCallback:null,isAutoCall:!1,sendPoint:!0,spm:[T(),"smartbanner","0"].join("."),pageId:window.dmtrack_pageid||"",timeout:3e3,activityId:"","spm-url":w("spm"),cookieInfo:{},extParams:{}},e);t.cookieInfo=t.cookieInfo||{},t.extParams=t.extParams||{},t.redirectUrl=C(t.targetUrl||U(),t)||"",t.callAppUrl=R(t.callAppUrl,t)||"",this.options=t},t.getCommonPointParams=function(){var e=this.options,t=void 0===e?{}:e;return m()({host:W,fromPageCode:t.pageCode||"",m_page_id:t.pageId||"","spm-url":t["spm-url"]||"","spm-cnt":t.spm||"",abId:t.abId||"",bktId:t.bktId||"",version:this.version,isAutoCall:t.isAutoCall||"",activityId:t.activityId||"",needRedirect:t.needRedirect},t.cookieInfo)},t.exposurePoint=function(){if(!this.hasExposure){this.hasExposure=!0;var e=this.options;H("exposure",m()({exp_page_area:"smartbanner_core",exp_type:"in_download_bar_core",exp_page:e.pageCode||""},this.getCommonPointParams()))}},t.bindEvent=function(){var e=this;this.hasBindEvent||(this.hasBindEvent=!0,document.addEventListener("visibilitychange",(function(){if(document.hidden&&e.redirectTimer&&e.hasRedirectTimer){var t=e.options;e.autoRedirectEnd=+new Date;var r=m()({cost_t:e.autoRedirectEnd-e.autoRedirectStart,has_app:!0,redirectUrl:encodeURIComponent(t.redirectUrl),callAppUrl:encodeURIComponent(t.callAppUrl)},e.getCommonPointParams());t.sendPoint&&H("click",r),x(t.callAppCallback)&&t.callAppCallback(!0,r),e.clearRedirectTimer(),e.clearRedirectField()}})))},t.clearRedirectField=function(){this.autoRedirectStart=null,this.autoRedirectEnd=null,this.isAutoCallRedirect=!1},t.clearRedirectTimer=function(){this.hasRedirectTimer=!1,window.clearTimeout(this.redirectTimer)},e}(),B=null;var z=n,G=1,X=function(){function e(e){this.copyId=void 0,this.containerId=void 0,this.isDestory=void 0,this.isInit=void 0,this.isInit=!1,this.init(e)}var t=e.prototype;return t.init=function(e){if(!this.isInit){this.isInit=!0,this.copyId="copy_textarea_"+G,this.containerId="copy_box_"+G;var t=this.getCopyBoxHtml(e.text),r=document.getElementsByTagName("body")[0],n=document.createElement("div");n.setAttribute("style","position: relative"),n.setAttribute("id",this.containerId),n.innerHTML=t,r.appendChild(n),this.isDestory=!1,G+=1}},t.copy=function(e){if(!this.isDestory){var t=document.getElementById(this.copyId);if(t)try{t.focus(),t.select();var r=!1;document.queryCommandSupported("copy")&&(r=document.execCommand("copy",!1,null)),e&&e(r)}catch(t){e&&e(!1)}}},t.destory=function(){if(!this.isDestory){var e=document.getElementById(this.containerId);try{e&&e.remove(),this.isDestory=!0}catch(e){}}},t.getCopyBoxHtml=function(e){void 0===e&&(e="");var t=this.getCopyTextStyle();return['<textarea id="'+this.copyId+'" readOnly style="'+t+'" value="'+e+'" >'+e+"</textarea>"].join("")},t.getCopyTextStyle=function(){return["font-size: 12px;","border: 0;","padding: 0;","margin: 0;","position: absolute;","left: -9999px;","top: "+(window.pageYOffset||document.documentElement.scrollTop)+"px;"].join("")},e}(),K=r(617),Z=r(618),Y=function(e,t){var r=K.default.get(e,{domain:(0,Z.getFixedDomainUrl)(),path:"/",raw:!0})||"",n=new RegExp("(.*&?"+t+"=)(.*?)(&.*|$)");r.match(n);var o=RegExp.$2;return n.test(r)&&function(e,t){var r={b_localeFormat:/^[a-z]{2}_[A-Z]{2}$/,c_tpFormat:/^[A-Z]{3}$/,regionFormat:/^[A-Z]{2,3}$/,signFormat:/^(y|n)$/,x_as_iFormat:/^([A-Za-z0-9]|(%))+/,acs_rtFormat:/^[A-Za-z0-9]+$/};return!/(&|=)/.test(t)&&(t&&r[e+"Format"]&&r[e+"Format"].test(t))}(t,o)?o:""};window.__getCookie=Y;var Q="poplayer-web-container-cachetimes",ee=location.href.substring(0,location.href.indexOf("#")<0?location.href.length:location.href.indexOf("#")),te=ee.substr(ee.indexOf("?")),re={};te&&te.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),(function(e,t,r,n){return re[t]=decodeURIComponent(n),""}));var ne=r(63),oe=r(619),ie=r.n(oe);function ae(e,t){ie.a.error(new Error(e),{filename:t}),Object(ne.c)(new Error(e))}function se(e,t,r,n){if(void 0===r&&(r=""),void 0===n&&(n=""),t)return ie.a.api.success(e,r,"200"),void Object(ne.b)({url:e,rtype:"mtop"});try{"object"==typeof n&&(n=JSON.stringify(n))}catch(e){}ie.a.api.error(e,r,"ERROR",n),Object(ne.a)({url:e,rtype:"mtop",msg:n})}function ue(e,t,r){var n,o,i;"detail"===(null===(n=window)||void 0===n||null===(o=n.g_SPM)||void 0===o||null===(i=o._current_spm)||void 0===i?void 0:i.b)&&"poplayerShow"===e&&ie.a.report({t10:Promise.resolve(r)}),Object(ne.g)(e,{et:t,xpath:"html/body/div",c1:r})}var ce=!1;window.lib&&window.lib.mtop||(ce=!0,r(620));var pe=function(){var e=u()(a.a.mark((function e(t,r){var n,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r={}),ce&&((n=window.lib.mtop.config).H5Request=!0,n.prefix=re.__prefix||"acs",n.subDomain="",n.mainDomain=location.hostname.indexOf("aliexpress")>=0?location.hostname.substr(location.hostname.indexOf("aliexpress")):"aliexpress.com"),o=d()({},t,{v:t.v||"1.0",encode:"1",ecode:1,appKey:24815441,data:t.data}),i=Date.now(),e.abrupt("return",window.lib.mtop.request(o).then((function(e){var r,n;null!=e&&null!==(r=e.data)&&void 0!==r&&r.success?se(t.api,!0,""+(Date.now()-i)):se(t.api,!1,""+(Date.now()-i),null==e||null===(n=e.ret)||void 0===n?void 0:n[0]);return e})).catch((function(e){throw se(t.api,!1,""+(Date.now()-i),""+e),e})));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),le=function(e,t){var r,n,o,i;void 0===t&&(t="pc");var a=Y("aep_usuc_f","b_locale"),s=Y("aep_usuc_f","region"),u=a&&(null==a||null===(r=a.split("_"))||void 0===r?void 0:r[0])+"_"+s,c=Y("aep_usuc_f","c_tp"),p=Y("xman_us_f","acs_rt"),l=Y("xman_us_f","x_as_i");return pe({type:"POST",api:"mtop.aliexpress.usertouch.poplayer.get",v:"2.0",data:{_currency:c,_lang:u,clientType:t,positionSign:e,ext:JSON.stringify({pullTrafficRuleParam:{originalUrl:null===(n=window)||void 0===n||null===(o=n.location)||void 0===o?void 0:o.href,appAffiParameters:decodeURIComponent(l||"")||"",acsRt:p,referUrl:null===(i=document)||void 0===i?void 0:i.referrer}})}})};function de(e){throw e}var fe={};try{localStorage.getItem(Q)&&(fe=JSON.parse(localStorage.getItem(Q)||"")||{})}catch(e){fe={}}var me,he=function(){return fe},ge=(me={reducer:function(e){switch(void 0===e&&(e={}),e.type){case"add":return e.payload;case"reduceTime":return t=e.payload.key,(n=fe[t]).times-n.showTimes>0?d()({},fe,((r={})[t]=d()({},n,{showTimes:n.showTimes+1}),r)):fe;case"addTime":return function(e,t){var r,n=fe[e];return d()({},fe,((r={})[e]=d()({},n,{showTimes:n.showTimes-t}),r))}(e.payload.key,e.payload.times);default:de("action should has type property")}var t,r,n},afterProcess:[function(e){fe=e,localStorage.setItem(Q,JSON.stringify(fe))}]},function(e){var t;void 0===e&&(e={});var r=me.reducer(e);null==me||null===(t=me.afterProcess)||void 0===t||t.forEach((function(e){e(r)}))}),ve=["https://campaign.aliexpress.com","http://campaign.aliexpress.com","https://pre-wormhole.aliexpress.com","http://pre-wormhole.aliexpress.com"],ye=function(){var e="postMessage"in window;function t(e,t,r){var n="";if(arguments.length<2?n="target error - target and name are both required":"object"!=typeof e?n="target error - target itself must be window object":"string"!=typeof t&&(n="target error - target name must be string type"),n)throw new Error(n);this.target=e,this.name=t,this.prefix=r}function r(e,t){this.targets={},this.name=e,this.listenFunc=[],this.prefix=t||"[PROJECT_NAME]",this.initListen()}return t.prototype.send=e?function(e){this.target.postMessage(this.prefix+"|"+this.name+"__Messenger__"+e,"*")}:function(e){var t=window.navigator[this.prefix+this.name];if("function"!=typeof t)throw new Error("target callback function is not defined");t(this.prefix+e,window)},r.prototype.addTarget=function(e,r){var n=new t(e,r,this.prefix);this.targets[r]=n},r.prototype.initListen=function(){var t=this,r=function(e){if((-1!==ve.indexOf(e.origin)||e.origin===window.location.origin)&&"object"==typeof e&&e.data&&e.data.indexOf&&e.data.indexOf("__Messenger__")>=0)for(var r=(e=e.data).split("__Messenger__"),n=(e=r[1],r[0].split("|")),o=n[0],i=n[1],a=0;a<t.listenFunc.length;a++)o+i===t.prefix+t.name&&t.listenFunc[a](e)};e?"addEventListener"in document?window.addEventListener("message",r,!1):"attachEvent"in document&&window.attachEvent("onmessage",r):window.navigator[this.prefix+this.name]=r},r.prototype.listen=function(e){for(var t=0,r=this.listenFunc.length,n=!1;t<r;t++)if(this.listenFunc[t]==e){n=!0;break}n||this.listenFunc.push(e)},r.prototype.clear=function(){this.listenFunc=[]},r.prototype.send=function(e){var t,r=this.targets;for(t in r)r.hasOwnProperty(t)&&r[t].send(e)},r}();function _e(e,t,r){var n=e.indexOf("?");return n>=0&&(n<e.indexOf("#")||e.indexOf("#")<0)?e.replace(/\?/,"?"+t+"="+encodeURIComponent(r)+"&"):e.indexOf("#")>=0?e.replace("#","?"+t+"="+encodeURIComponent(r)+"#"):e+"?"+t+"="+encodeURIComponent(r)}var we=r(100);function be(e){return xe.apply(this,arguments)}function xe(){return(xe=u()(a.a.mark((function e(t){var r,n,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=t.type,n=p()(t,["type"]),Object.keys(n||{}).reduce((function(e,r){var o=n[r];return t[r]=o,o?e+"&"+r+"="+o:e}),""),o=[""+t.log_key,"click"===r?"CLK":"EXP"],"poplayer","click"===r?t.ae_page_type="poplayer":t.exp_type="poplayer",t.spm_cnt=t.spm_cnt||"a2g0n.poplayer","CLK"===o[1]?Object(we.click)(t):Object(we.exposure)(t)}catch(e){ae("poplayer 打点上报出错:"+e,"src/util/log.ts")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ke=window.navigator.userAgent;function Se(){return!!ke.match(/(phone|pad|pod|iPhone|iPod|iPad|ios|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}var Ce=r(0),Re=r.n(Ce),Oe=r(23),Ee=r.n(Oe);var Ae=function(e,t,r){var n,o,i,a,s=document.createElement("div");document.body.appendChild(s);var u=null==t||null===(n=t.params)||void 0===n?void 0:n.jsComboUrl,c=null===(o=u.match(/@ali\/gmod-(poplayer|pop)-[a-z]+/))||void 0===o?void 0:o[0],p=document.createElement("script");return p.src=u,null===(i=document.getElementsByTagName("head"))||void 0===i||null===(a=i[0])||void 0===a||a.appendChild(p),p.onload=function(){var n,o=document.body.getAttribute("data-spm")||"0";if(null!==(n=window)&&void 0!==n&&n[c]){var i=Re.a.createElement(window[c],{popInfo:t,positionSign:e.positionSign,parentSpmB:o,uuid:r.split(/_/)&&r.split(/_/)[2]});i&&Ee.a.render(i,s)}else ae("poplayer module not found: "+c,"src/page/index/new.ts")},s},Te=(Se(),Se()?"a2g0n":"a2g0o"),Ie=Se()?"msite":"pc",Pe=Date.now(),Ne="postMessage"in window;function qe(e){var t=[];for(var r in e)t.push(d()({},e[r],{uuid:r}));var n={smallImage:!1,other:!1},o=t.sort((function(e,t){return t.priority-e.priority})).filter((function(e){return e.times>e.showTimes}));return o.length?o.filter((function(e){if("smallImage"===e.type){if(!n.smallImage)return n.smallImage=!0,!0}else if(!n.other)return n.other=!0,!0;return!1})).map((function(e){return e.uuid})):[]}function Le(e,t,r){var n=document.createElement("iframe"),o=t.split(/_/)&&t.split(/_/)[2];return o&&(n.src=_e(_e(_e(e,"__poplayer_preserve_uuid",o),"__prefix",re.__prefix||""),"__poplayer_position_sign",r),n.name=t,n.style.width="100%",n.style.height="100%",n.style.border="none",n.style.display="none",n.style.position="fixed",n.style.zIndex="-100",n.style.left="0",n.style.top="0",n.style.transform="translate3d(0, 0, -100)",document.body.appendChild(n)),n}function Ue(e){return"number"==typeof e||/^\d+$/.test(""+e)?e+"px":e}function De(e,t,r,n){return void 0===n&&(n=0),{showTimes:0===t?-1:r||0}}function Fe(e,t,r,n,o,i,a){void 0===a&&(a=!1);var s=e.split(/_/)&&e.split(/_/)[2],u=new ye(s+"parent",void 0);u.addTarget(t.contentWindow||window,s),u.listen((function(s){var u,c,l,f,m=JSON.parse(s);switch(m.type){case"load":be({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Te+"."+i+".poplayer.loadsuccess",type:"expose",exp_page:n,positionSign:o,exp_type:"poplayer",houyiTrack:r,isNewModule:a,clientType:Ie,extend:JSON.stringify(null!==(u=null==m?void 0:m.extend)&&void 0!==u?u:{})});break;case"resizeWidthPosition":m.payload&&m.payload.width&&(t.style.width=Ue(m.payload.width)),m.payload&&m.payload.height&&(t.style.height=Ue(m.payload.height)),m.payload&&m.payload.top&&(t.style.top=Ue(m.payload.top)),m.payload&&m.payload.bottom&&(t.style.bottom=Ue(m.payload.bottom)),m.payload&&m.payload.left&&(t.style.left=Ue(m.payload.left)),m.payload&&m.payload.right&&(t.style.right=Ue(m.payload.right));break;case"show":be({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Te+"."+i+".poplayer.display",type:"expose",positionSign:o,exp_page:n,exp_type:"poplayer",houyiTrack:r,clientType:Ie,isNewModule:a,timeToShow:""+(Date.now()-Pe),extend:JSON.stringify(null!=m&&m.extend?d()({m_page_id:window.dmtrack_pageid||"","spm-url":re.spm||""},m.extend):{})}),t.style.display="block",t.style.zIndex="1000000",t.style.transform="translate3d(0, 0, 10000)",ge({type:"reduceTime",payload:{key:e}}),ue("poplayerShow","EXP",""+(Date.now()-Pe));break;case"addTime":ge({type:"addTime",payload:{key:e,times:m.payload}});break;case"link":be({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:Te+"."+i+".poplayer.jump",type:"click",positionSign:o,exp_page:n,exp_type:"poplayer",houyiTrack:r,clientType:Ie,isNewModule:a,extend:JSON.stringify(null!==(c=null==m?void 0:m.extend)&&void 0!==c?c:{})});var h=m.payload;h=h.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),window.location.href=h;break;case"close":document.body.removeChild(t),be({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:Te+"."+i+".poplayer.close",type:"click",positionSign:o,exp_page:n,exp_type:"poplayer",houyiTrack:r,clientType:Ie,isNewModule:a,extend:JSON.stringify(null!=m&&m.extend?{m_page_id:window.dmtrack_pageid||"","spm-url":re.spm||""}:{})});break;case"failed":document.body.removeChild(t),be({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Te+"."+i+".poplayer.hidden",type:"expose",positionSign:o,exp_page:n,houyiTrack:r,isNewModule:a,exp_type:"poplayer",clientType:Ie,extend:JSON.stringify(null!==(l=null==m?void 0:m.extend)&&void 0!==l?l:{})});break;case"callApp":var g=m.payload,v=g.callAppUrl,y=g.targetUrl,_=(g.pageCode,g.needRedirect),w=g.isAutoCall,b=g.spm,x=void 0===b?Te+"."+i+".poplayer.callapp":b,k=g.pageId,S=p()(g,["callAppUrl","targetUrl","pageCode","needRedirect","isAutoCall","spm","pageId"]);if(v)try{var C=z.fixCallUrlParams(v),R=Y("xman_us_f","acs_rt");if(R){var O=new X({text:["$",R||"","$"].join("")});O.copy((function(){})),setTimeout((function(){O.destory()}),150)}void 0===(f=d()({callAppUrl:C,callAppCallback:function(){},targetUrl:y,pageCode:i,needRedirect:void 0!==_?_:!!y,isAutoCall:w,spm:x,pageId:k||window.dmtrack_pageid||"",extParams:d()({track:r,fromAction:"poplayer"},S)},S))&&(f={}),B||(B=new V),B.execCallApp(f),be({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:Te+"."+i+".poplayer.callapp",type:"click",positionSign:o,exp_page:n,exp_type:"poplayer",houyiTrack:r,clientType:Ie,isNewModule:a,extend:JSON.stringify(null!=m&&m.extend?d()({m_page_id:window.dmtrack_pageid||"","spm-url":re.spm||""},m.extend):{})})}catch(t){ae("poplayer "+e+" callAppUrl error: "+t,"src/page/index/index.ts"),console.log(t);try{if(_&&y){var E=z.createRedirectUrl(y,{pageCode:i,isAutoCall:w,spm:x,pageId:k||window.dmtrack_pageid||"","spm-url":re.spm||""});window.location.href=E}}catch(t){ae("poplayer "+e+" callAppUrl redirect error: "+t,"src/page/index/index.ts"),console.error(t)}}document.body.removeChild(t);break;default:document.body.removeChild(t),ae("poplayer "+e+":never unknown message happen, auto close poplayer","src/page/index/index.ts"),de("never unknown message happen, auto close poplayer")}}))}function je(){return(je=u()(a.a.mark((function e(t){var r,n,o,i,s,u,c,p,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.body.getAttribute("data-spm")||"0",be({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Te+"."+n+".poplayer.trigger",type:"expose",positionSign:t.positionSign,exp_page:t.positionSign,exp_type:"poplayer",clientType:Ie}),o=Date.now(),e.next=5,le(t.positionSign,Ie);case 5:i=e.sent,ue("poplayerMtopTiming","OTHER",""+(Date.now()-o)),s=he(),u=null==i||null===(r=i.data)||void 0===r?void 0:r.popLayerRuleMap,c=Object.keys(u).reduce((function(e,t){var r;return d()({},e,((r={})[t]=JSON.parse(u[t]),r))}),{}),p=Object.keys(c).reduce((function(e,t){var r,n,o,i=c[t];return d()({},e,((o={})[i.uuid]=d()({times:i.times,type:i.type,priority:i.priority},De(0,i.times,null===(r=s[i.uuid])||void 0===r?void 0:r.showTimes,null===(n=s[i.uuid])||void 0===n?void 0:n.startTime)),o))}),{}),ge({type:"add",payload:p}),(l=qe(p)).length&&l.forEach((function(e){var r,o,i,a,s=null===(r=c[e])||void 0===r||null===(o=r.params)||void 0===o?void 0:o.extGcpOutputPageUrl,u=null===(i=c[e])||void 0===i||null===(a=i.params)||void 0===a?void 0:a.jsComboUrl;if(s&&Ne){var p,l,d,f;if(be({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Te+"."+n+".poplayer.openurl",type:"expose",positionSign:t.positionSign,houyiTrack:null===(p=c[e])||void 0===p||null===(l=p.params)||void 0===l?void 0:l.track,exp_page:s,exp_type:"poplayer",clientType:Ie}),u){var m,h,g=null===(m=c[e])||void 0===m||null===(h=m.params)||void 0===h?void 0:h.track,v=Ae(t,c[e],e);return void Fe(e,v,g,window.location.href,t.positionSign,n,!0)}var y=s,_=Le(y+=y.indexOf("?")>=0?"&parentSpmB="+n:"?parentSpmB="+n,e,t.positionSign);_.onerror=function(t){ae(e+" poplayer iframe on error","src/page/index/index.ts")},Fe(e,_,null===(d=c[e])||void 0===d||null===(f=d.params)||void 0===f?void 0:f.track,s,t.positionSign,n)}}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(e){return je.apply(this,arguments)}}}]);